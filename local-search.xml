<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>决策树实现连续型属性值的分类问题</title>
    <link href="/2022/05/26/%E5%86%B3%E7%AD%96%E6%A0%91%E5%AE%9E%E7%8E%B0%E8%BF%9E%E7%BB%AD%E5%9E%8B%E5%B1%9E%E6%80%A7%E5%80%BC%E7%9A%84%E5%88%86%E7%B1%BB%E9%97%AE%E9%A2%98/"/>
    <url>/2022/05/26/%E5%86%B3%E7%AD%96%E6%A0%91%E5%AE%9E%E7%8E%B0%E8%BF%9E%E7%BB%AD%E5%9E%8B%E5%B1%9E%E6%80%A7%E5%80%BC%E7%9A%84%E5%88%86%E7%B1%BB%E9%97%AE%E9%A2%98/</url>
    
    <content type="html"><![CDATA[<p>题目与数据来源于 <a href="https://www.kaggle.com/datasets/primaryobjects/voicegender">Gender Recognition by Voice | Kaggle</a> ，大意是通过声音的多个属性来判断性别。</p><p>预览数据组成：</p><p><img src="/2022/05/26/%E5%86%B3%E7%AD%96%E6%A0%91%E5%AE%9E%E7%8E%B0%E8%BF%9E%E7%BB%AD%E5%9E%8B%E5%B1%9E%E6%80%A7%E5%80%BC%E7%9A%84%E5%88%86%E7%B1%BB%E9%97%AE%E9%A2%98/1653529082501.png" alt="1653529082501"></p><p>​    发现这些属性值都是连续值， 因为连续属性的可取值数目不再有限，因此需要连续属性离散化，常用的离散化策略是<strong>二分法</strong>， 这步的目的是使得同一类别的样本尽可能地被划分在一起，这样才能达到分类的目的。而同一类的样本尽可能分在一起，翻译一下就是划分后两个子集的信息熵之和最小。</p><p>​    先将该属性所有属性值排序，计算每相邻两个点的中点作为阈值，在数据集中将该属性大于阈值的划分为一类，小于阈值的划分为另一类，然后计算信息熵，最后取令信息熵最小的阈值作为划分标准，将属性值二值化。按实际来说这个阈值应该在所有属性值的平均值附近取到，所以可以适当缩小范围以加快计算速度。</p><p>​    </p><figure class="highlight haskell"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></div></td><td class="code"><pre><code class="hljs haskell"><span class="hljs-keyword">import</span> math<br><span class="hljs-keyword">import</span> statistics<br><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np <br><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd <br><br><br><span class="hljs-title">dataset</span> = pd.read_csv(<span class="hljs-string">&quot;/kaggle/input/voicegender/voice.csv&quot;</span>)<br><span class="hljs-meta"># 由于数据集的组成是前一半都是male,后一半都是female,所以先用以下方法对数据集进行划分。</span><br><span class="hljs-title">dataset</span> = list(np.array(dataset))<br><span class="hljs-class"><span class="hljs-keyword">data</span> = dataset[:1267]</span><br><span class="hljs-class"><span class="hljs-keyword">data</span> = <span class="hljs-keyword">data</span> + dataset[1584:2851]</span><br><span class="hljs-title">test</span> = dataset[<span class="hljs-number">1267</span>:<span class="hljs-number">1584</span>]<br><span class="hljs-title">test</span> = test + dataset[<span class="hljs-number">2851</span>:]<br><span class="hljs-class"><span class="hljs-keyword">data</span> = np.array(<span class="hljs-title">data</span>)</span><br><br><span class="hljs-meta"># 对每个属性值进行二值化操作的阈值</span><br><span class="hljs-title">threshold</span> = [<span class="hljs-number">0</span> for i <span class="hljs-keyword">in</span> range(len(<span class="hljs-class"><span class="hljs-keyword">data</span>[0])-1)]</span><br><br><br><span class="hljs-meta"># 得到每个属性的阈值</span><br><span class="hljs-title">for</span> i <span class="hljs-keyword">in</span> range(len(<span class="hljs-class"><span class="hljs-keyword">data</span>[0])-1):</span><br>    min_entropy = <span class="hljs-number">100</span>  #记录最小熵<br>    feature_value = list(<span class="hljs-class"><span class="hljs-keyword">data</span>[:,i]) #得到所有属性值</span><br>    feature_value.sort() # 排序<br>    feature_value_avg = [(feature_value[x] + feature_value[x+<span class="hljs-number">1</span>])/<span class="hljs-number">2</span> for x <span class="hljs-keyword">in</span> range(len(feature_value)<span class="hljs-number">-1</span>)]  # 求相邻两点的平均值<br>    # 缩小范围<br>    for m <span class="hljs-keyword">in</span> range(int(len(feature_value_avg)*<span class="hljs-number">0.3</span>), int(len(feature_value_avg)*<span class="hljs-number">0.7</span>)):<br>        sum_1 = <span class="hljs-number">0</span> # 当前属性值比阈值大的一类<br>        count_male1 = <span class="hljs-number">0</span> # 比阈值大的一类中的male数量<br>        sum_2 = <span class="hljs-number">0</span>   # 比阈值小的一类<br>        count_male2 = <span class="hljs-number">0</span> # 比阈值小的一类的male数量<br>        for r <span class="hljs-keyword">in</span> <span class="hljs-class"><span class="hljs-keyword">data</span>:</span><br>            <span class="hljs-keyword">if</span> r[i] &gt; feature_value_avg[m]:<br>                sum_1 += <span class="hljs-number">1</span><br>                <span class="hljs-keyword">if</span> r[<span class="hljs-number">-1</span>] == &#x27;male&#x27;:<br>                    count_male1 +=<span class="hljs-number">1</span><br>            <span class="hljs-keyword">else</span>:<br>                sum_2 += <span class="hljs-number">1</span><br>                <span class="hljs-keyword">if</span> r[<span class="hljs-number">-1</span>] == &#x27;male&#x27;:<br>                    count_male2 += <span class="hljs-number">1</span><br>        prob_male1 = count_male1/sum_1<br>        prob_male2 = count_male2/sum_2<br>        # 计算划分后子集的信息熵<br>        entropy = - prob_male1* math.log(prob_male1, <span class="hljs-number">2</span>) - (<span class="hljs-number">1</span> - prob_male1) * math.log((<span class="hljs-number">1</span>- prob_male1), <span class="hljs-number">2</span>) -\<br>                    prob_male2* math.log(prob_male2, <span class="hljs-number">2</span>) - (<span class="hljs-number">1</span> - prob_male2) * math.log((<span class="hljs-number">1</span>- prob_male2), <span class="hljs-number">2</span>)<br>        <span class="hljs-keyword">if</span> entropy &lt; min_entropy:<br>            min_entropy = entropy<br>            threshold[i] = feature_value_avg[m]<br>            <br><span class="hljs-meta"># 二值化</span><br><span class="hljs-title">for</span> i <span class="hljs-keyword">in</span> range(len(<span class="hljs-class"><span class="hljs-keyword">data</span>)):</span><br>    for j <span class="hljs-keyword">in</span> range(len(<span class="hljs-class"><span class="hljs-keyword">data</span>[0])-1):</span><br>        <span class="hljs-keyword">if</span> <span class="hljs-class"><span class="hljs-keyword">data</span>[i][j] &gt; threshold[j]:</span><br>            <span class="hljs-class"><span class="hljs-keyword">data</span>[i][j] = 1</span><br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-class"><span class="hljs-keyword">data</span>[i][j] = 0</span><br>            <br></code></pre></td></tr></table></figure><h4 id="建树"><a href="#建树" class="headerlink" title="建树"></a>建树</h4><p>确定各个条件作为分类判定的顺序：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> operator<br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">Split_Data</span>(<span class="hljs-params">dataset, axis, value</span>):</span><br>    <span class="hljs-string">&#x27;&#x27;&#x27;</span><br><span class="hljs-string">    使用传入的axis以及value划分数据集</span><br><span class="hljs-string">    axis代表在每个列表中的第X位，value为用来划分的特征值</span><br><span class="hljs-string">    &#x27;&#x27;&#x27;</span><br>    new_subset = []<br>    <span class="hljs-comment"># 利用循环将不符合value的特征值划分入另一集合</span><br>    <span class="hljs-comment"># 相当于将value单独提取出来（或作为叶节点）</span><br>    <span class="hljs-keyword">for</span> vec <span class="hljs-keyword">in</span> dataset:<br>        <span class="hljs-keyword">if</span> vec[axis] == value:<br>            feature_split = <span class="hljs-built_in">list</span>(vec[:axis])<br>            feature_split.extend(vec[axis + <span class="hljs-number">1</span>:])<br>            new_subset.append(feature_split)<br>    <span class="hljs-comment"># extend将VEC中的元素一一纳入feature_split</span><br>    <span class="hljs-comment"># append则将feature_split作为列表结合进目标集合</span><br>            <br>    <span class="hljs-keyword">return</span> new_subset<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">Split_by_entropy</span>(<span class="hljs-params">dataset</span>):</span><br>    <span class="hljs-string">&#x27;&#x27;&#x27;</span><br><span class="hljs-string">    使用熵原则进行数据集划分</span><br><span class="hljs-string">    @信息增益:info_gain = old -new</span><br><span class="hljs-string">    @最优特征：best_feature</span><br><span class="hljs-string">    @类别集合：uniVal</span><br><span class="hljs-string">    &#x27;&#x27;&#x27;</span><br>    feature_num = <span class="hljs-built_in">len</span>(dataset[<span class="hljs-number">0</span>]) - <span class="hljs-number">1</span><br>    ent_old = cal_entropy(dataset)<br>    best_gain = <span class="hljs-number">0.0</span><br>    best_feature = -<span class="hljs-number">1</span><br>    <span class="hljs-comment"># ENT_OLD代表划分前集合的熵，ENT_NEW代表划分后的熵</span><br>    <span class="hljs-comment"># best_gain将在迭代每一次特征的时候更新，最终选出最优特征</span><br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(feature_num):<br>        feature_list = [x[i] <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> dataset]<br>        uniVal = <span class="hljs-built_in">set</span>(feature_list)<br>        ent_new = <span class="hljs-number">0.0</span><br>        <span class="hljs-comment"># 使用set剔除重复项，保留该特征对应的不同取值</span><br>        <span class="hljs-keyword">for</span> value <span class="hljs-keyword">in</span> uniVal:<br>            sub_set = Split_Data(dataset, i, value)<br>            prob = <span class="hljs-built_in">len</span>(sub_set) / <span class="hljs-built_in">float</span>(<span class="hljs-built_in">len</span>(dataset))<br>            <span class="hljs-comment"># 使用熵计算函数求出划分后的熵值</span><br>            ent_new += prob * (<span class="hljs-number">0</span> - cal_entropy(sub_set))<br>        <br>        <span class="hljs-comment"># 由ent_old - ent_new选出划分对应的最优特征</span><br>        Info_gain = ent_old - ent_new<br>        <span class="hljs-keyword">if</span>(Info_gain &gt; best_gain):<br>            best_gain = Info_gain<br>            best_feature = i<br>            <br>    <span class="hljs-keyword">return</span> best_feature<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">cal_entropy</span>(<span class="hljs-params">data</span>):</span><br>    <span class="hljs-comment"># 计算样本实例的熵</span><br>    entries_num = <span class="hljs-built_in">len</span>(data)<br>    label_count = &#123;&#125;  <span class="hljs-comment"># 字典存储每个类别出现的次数</span><br> <br>    <span class="hljs-keyword">for</span> vec <span class="hljs-keyword">in</span> data:<br>        cur_label = vec[-<span class="hljs-number">1</span>] <br>    <span class="hljs-comment"># 将样本标签提取出来，并计数</span><br>        label_count[cur_label] = label_count.get(cur_label, <span class="hljs-number">0</span>) + <span class="hljs-number">1</span><br>    Entropy = <span class="hljs-number">0.0</span><br>    <span class="hljs-comment"># 对每一个类别，计算样本中取到该类的概率</span><br>    <span class="hljs-comment"># 最后将概率带入，求出熵</span><br>    <span class="hljs-keyword">for</span> key <span class="hljs-keyword">in</span> label_count:<br>        prob = <span class="hljs-built_in">float</span>(label_count[key]) / entries_num<br>        Entropy -= prob * math.log(prob, <span class="hljs-number">2</span>) <span class="hljs-comment">#此处使用numpy.math</span><br>    <span class="hljs-keyword">return</span> Entropy<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">Majority_vote</span>(<span class="hljs-params">classList</span>):</span><br>    <span class="hljs-string">&#x27;&#x27;&#x27;</span><br><span class="hljs-string">    使用多数表决法：若集合中属于第K类的节点最多，则此分支集合</span><br><span class="hljs-string">            划分为第K类</span><br><span class="hljs-string">    &#x27;&#x27;&#x27;</span><br>    classcount = &#123;&#125;<br>    <span class="hljs-keyword">for</span> vote <span class="hljs-keyword">in</span> classList:<br>        classcount[vote] = classcount.get(vote,<span class="hljs-number">0</span>) + <span class="hljs-number">1</span><br>    sorted_count = <span class="hljs-built_in">sorted</span>(classcount.items(), key = operator.itemgetter(<span class="hljs-number">1</span>),\<br>                          reverse = <span class="hljs-literal">True</span>)<br>    <span class="hljs-comment"># 获取每一类出现的节点数（没出现默认为0）并进行排序</span><br>    <span class="hljs-comment"># 返回最大项的KEY所对应的类别</span><br>    <span class="hljs-keyword">return</span> sorted_count[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>]<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">Create_Tree</span>(<span class="hljs-params">dataset,labels</span>):</span><br><br>    classList = [x[-<span class="hljs-number">1</span>] <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> dataset]<br>    <span class="hljs-keyword">if</span> classList.count(classList[<span class="hljs-number">0</span>]) == <span class="hljs-built_in">len</span>(classList):<br>        <span class="hljs-keyword">return</span> classList[<span class="hljs-number">0</span>]<br>    <span class="hljs-comment">#</span><br>    <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(dataset[<span class="hljs-number">0</span>]) == <span class="hljs-number">1</span>:<br>        <span class="hljs-keyword">return</span> Majority_vote(classList)<br>    <br>    best_feature = Split_by_entropy(dataset)<br>    best_labels = labels[best_feature]<br>    <br>    myTree = &#123;best_labels:&#123;&#125;&#125;<br>    <span class="hljs-comment"># 此位置书上写的有误，书上为del(labels[bestFeat])</span><br>    <span class="hljs-comment"># 相当于操作原始列表内容，导致原始列表内容发生改变</span><br>    <span class="hljs-comment"># 按此运行程序，报错&#x27;no surfacing&#x27;is not in list</span><br>    <span class="hljs-comment"># 以下代码已改正</span><br>    <br>    <span class="hljs-comment"># 复制当前特征标签列表，防止改变原始列表的内容</span><br>    subLabels=labels[:]<br>    <span class="hljs-comment"># 删除属性列表中当前分类数据集特征</span><br>    <span class="hljs-keyword">del</span>(subLabels[best_feature])<br><br>    <span class="hljs-comment"># 使用列表推导式生成该特征对应的列</span><br>    f_val = [x[best_feature] <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> dataset]<br>    uni_val = <span class="hljs-built_in">set</span>(f_val)<br>    <span class="hljs-keyword">for</span> value <span class="hljs-keyword">in</span> uni_val:<br>        <span class="hljs-comment"># 递归创建子树并返回</span><br>        myTree[best_labels][value] = Create_Tree(Split_Data(dataset\<br>              ,best_feature,value), subLabels)<br>    <br>    <span class="hljs-keyword">return</span> myTree<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">classify</span>(<span class="hljs-params">inp_tree, labels, test_vec</span>):</span><br>    first_node = <span class="hljs-built_in">list</span>(inp_tree.keys())[<span class="hljs-number">0</span>]<br>    second_dict = inp_tree[first_node]<br>    index = labels.index(first_node)<br>    class_label = <span class="hljs-string">&#x27;male&#x27;</span><br>    <span class="hljs-keyword">for</span> key <span class="hljs-keyword">in</span> second_dict.keys():<br>        <span class="hljs-keyword">if</span> test_vec[index] == key:<br>            <span class="hljs-keyword">if</span> <span class="hljs-built_in">type</span>(second_dict[key]).__name__ == <span class="hljs-string">&#x27;dict&#x27;</span>:<br>                class_label = classify(second_dict[key], labels, test_vec)<br>            <span class="hljs-keyword">else</span>:   <br>                class_label = second_dict[key]<br>    <span class="hljs-keyword">return</span> class_label<br><br><br>labels = [<span class="hljs-string">&#x27;1&#x27;</span>, <span class="hljs-string">&#x27;2&#x27;</span>, <span class="hljs-string">&#x27;3&#x27;</span>, <span class="hljs-string">&#x27;4&#x27;</span>,<span class="hljs-string">&#x27;5&#x27;</span>,<span class="hljs-string">&#x27;6&#x27;</span>,<span class="hljs-string">&#x27;7&#x27;</span>,<span class="hljs-string">&#x27;8&#x27;</span>,<span class="hljs-string">&#x27;9&#x27;</span>,<span class="hljs-string">&#x27;10&#x27;</span>,<span class="hljs-string">&#x27;11&#x27;</span>,<span class="hljs-string">&#x27;12&#x27;</span>,<span class="hljs-string">&#x27;13&#x27;</span>,<span class="hljs-string">&#x27;14&#x27;</span>,<span class="hljs-string">&#x27;15&#x27;</span>,<span class="hljs-string">&#x27;16&#x27;</span>,<span class="hljs-string">&#x27;17&#x27;</span>,<span class="hljs-string">&#x27;18&#x27;</span>,<span class="hljs-string">&#x27;19&#x27;</span>,<span class="hljs-string">&#x27;20&#x27;</span>]<br>data = <span class="hljs-built_in">list</span>(data)<br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">type</span>(data))<br>Tree = Create_Tree(data, labels)<br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">trans</span>(<span class="hljs-params"><span class="hljs-built_in">input</span>, threshold</span>):</span><br>    output = [<span class="hljs-number">0</span> <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(<span class="hljs-built_in">input</span>)-<span class="hljs-number">1</span>)]<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(<span class="hljs-built_in">input</span>)-<span class="hljs-number">1</span>):<br>        <span class="hljs-keyword">if</span> <span class="hljs-built_in">input</span>[i] &gt; threshold[i]:<br>            output[i] = <span class="hljs-number">1</span><br>    <span class="hljs-keyword">return</span> output<br>labels = [<span class="hljs-string">&#x27;1&#x27;</span>, <span class="hljs-string">&#x27;2&#x27;</span>, <span class="hljs-string">&#x27;3&#x27;</span>, <span class="hljs-string">&#x27;4&#x27;</span>,<span class="hljs-string">&#x27;5&#x27;</span>,<span class="hljs-string">&#x27;6&#x27;</span>,<span class="hljs-string">&#x27;7&#x27;</span>,<span class="hljs-string">&#x27;8&#x27;</span>,<span class="hljs-string">&#x27;9&#x27;</span>,<span class="hljs-string">&#x27;10&#x27;</span>,<span class="hljs-string">&#x27;11&#x27;</span>,<span class="hljs-string">&#x27;12&#x27;</span>,<span class="hljs-string">&#x27;13&#x27;</span>,<span class="hljs-string">&#x27;14&#x27;</span>,<span class="hljs-string">&#x27;15&#x27;</span>,<span class="hljs-string">&#x27;16&#x27;</span>,<span class="hljs-string">&#x27;17&#x27;</span>,<span class="hljs-string">&#x27;18&#x27;</span>,<span class="hljs-string">&#x27;19&#x27;</span>,<span class="hljs-string">&#x27;20&#x27;</span>]<br>data = <span class="hljs-built_in">list</span>(data)<br>Tree = Create_Tree(data, labels)<br>acc = <span class="hljs-number">0</span><br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">len</span>(test))<br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(test)):<br>    t = trans(test[i], threshold)<br>    <span class="hljs-keyword">if</span> classify(Tree, labels,t) == test[i][-<span class="hljs-number">1</span>]:<br>        acc +=<span class="hljs-number">1</span><br><span class="hljs-built_in">print</span>(acc/<span class="hljs-built_in">len</span>(test))<br></code></pre></td></tr></table></figure><p>​    </p>]]></content>
    
    
    <categories>
      
      <category>机器学习</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>python用二维列表存放类的对象</title>
    <link href="/2022/05/05/python%E7%94%A8%E4%BA%8C%E7%BB%B4%E5%88%97%E8%A1%A8%E5%AD%98%E6%94%BE%E7%B1%BB%E7%9A%84%E5%AF%B9%E8%B1%A1/"/>
    <url>/2022/05/05/python%E7%94%A8%E4%BA%8C%E7%BB%B4%E5%88%97%E8%A1%A8%E5%AD%98%E6%94%BE%E7%B1%BB%E7%9A%84%E5%AF%B9%E8%B1%A1/</url>
    
    <content type="html"><![CDATA[<figure class="highlight python"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></div></td><td class="code"><pre><code class="hljs python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">dot</span>:</span><br>    <span class="hljs-string">&quot;&quot;&quot;点类，属性为坐标&quot;&quot;&quot;</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span>(<span class="hljs-params">self, y, x</span>):</span><br>        self.y = y<br>        self.x = x<br><br><span class="hljs-built_in">list</span> = []<br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">2</span>):<br>    list_ = []<br>    <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">2</span>):<br>        list_.append(dot(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>))<br>    <span class="hljs-built_in">list</span>.append(list_)<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>python</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>22.3.15</title>
    <link href="/2022/03/14/22-3-15/"/>
    <url>/2022/03/14/22-3-15/</url>
    
    <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <script id="hbeData" type="hbeData" data-hmacdigest="3a943bc4678bdc98926d142775b9cae816fc1b81e6c78e94bb2d9a8f38d935ca">82214728cd5831a318199fe07afbdc9ca52146dbdbd5f742e511be6bec070a7edcfba9dedfab771a5e2cd9dc1c89ba9bf3d37ec10e8f421779e8dd7e851f840f216c55ddabd5e6b41f38c6caee6dfac37ae62e35da1e27f9987c24944d2b3431ab85d8fb3d88b3053cba5da872dca9bd54bf0a3d0c36c4255d86396e4ebee417102cf5e541d4873a15ff312140e377ca49a158bc16ccfda628433e444bc0b1abe1038f169d75b2dc791ca9e834d45a02ec9a1a117d6b399c25025024513d25e596008c506535848a991e16f7864ec1845a53d3a4f82a481ebfe16d6a11ddc3c604b6743dcce7a4f1db0c23f7d00a2e17b480befcceef330d64a33b237cd2e0ef489c5cc23f8630277008ab11cb6bddd272cab1cbb67a50f7660e79dfb5ec176102166542afe052608c5eedaf3bfe98227b81edfe6de7ca266f7af50afe3143bc332d64bd7b1ff368111115be862605a1547e241f1cd4f54684cf2555e2a90ba9902bae2ad1d26a9832382bf38f1ec709092dd40e9078e4d632923a0a6477543b6aa584907404ec5878350eea16a0a32e7e4025126cee3a5565126c7e8d8f6f118feaf70d3d1d4f88e8b0410ef9e4a3d904c713ce1247ccf27f02ce5167164e8febba95bcf3ae2f745b58e6832e027b764fb52c54e5c92c4e0210e70011280aa3f9f28127555d938a0fbc40a2a6818cef4684a306ecf3deb57e915214469e9648aedd41876076b1ea05379e13806551b4a87173fb83270254f81a5007c3691d58584c454593d6f9c68a101aa70588a49de5b4bad8fe0c08682b1ecc04549255e1a984118b96e34b0ef33d5353c19bab392f83b98a3a64c31fd9e29c1442800497aa550f2e83f4d6004f4bb4e7cfe7c4cdef44b0a5abf2713fec5aa05ecaa2cd6d0467f38e70f19be06564aa2bf372fb53d5ca83e0469ea39626354341db6a9453ee393c2e1d10206f76d0686153d1993e35ca16dc69e8346b9f6726d17d4d8e6416d4c5770eb29bd8956c1bb85fbd4bb8ef29f45c829eda0c5990bab1243c0698cc8a62ca6758058c9e35424487470cd6c74ef24b25565e939c437ed338c3756bee3ba6cb8aac1788e8acbbd74ff7f249b8d5c723d92a4046f841aa994d816dfbee7236af50277ca1fd02040b7e1dc5e0b8ecff0a7c9a0d3868291484db8edc849e38c4dd6bc3d50d483d005ffeb885355345bf51f5818ffb2cacbe9d5fbc37aa33eb08840bd8c0b0bd41da2771a663873d02e770c095740f4160b5fbf4cfac5869ca866d12e3a5afddc60cabc06ce6728f21ae72de711cb4d160ce0d89ffa8f1df7e7b1d847baaafe58a0e1a7f961c76269036fdb03089a988f4b05a15aacc68c08cdf7a2b143c188537c6c9ed6f6b6b947bb7b9a9475dcb49d1a8a2b1f7fc88f30a6334b97ecfd4768f60e6a0cab3f5c7fc4004c5e83943a340ad4694e47050282c7a0fcd60dc0e349b55c6da964de29d7cd8ac8769adbef7e2aa3870c9d3818b2511e91b317b1dc6f83c31e381a65728968df6113aba836dc0a3b6c48882ae89e84e144c131963debae3a623b6fc2ff3a9ebb49dc30032006f70ca992cb7e622435c2648ad41a30f4521e30aa6d5458478d32ccc776e63ed34547bf6fddca898fb8b3a89a97b4eef0589274c13eb88e7c064df561a1d14e569d15855dd5ade64f34d73e55708bc2c50e086319fbb21056590c6d388e88825fafb8919d2aabd98551c9dde1119a27025be3bf6b320206ac0d4f4ae6912bdb4054a2b4b40c0c2dfa66bcaefe4cefeef78b2d916c8440ce1ab0136a2a9fb9fdcad05b8f97cd0b4e9a947f5fa2d4d47d4079d4868ee4e2550a6c35d452d1d654e698cda230a5bc3796d701bdf4dd819069f3b4344a823718470a264393c586ed86baeb03b798bdf1e9d0eaf16009b9b05ecd8e6932f9d52c4a67d8ce5c01a0872d3fed5981b7a13ebcd6cbbf6947cce8d474b28054cbd56e78ae3042261223abff0a57cd09c33630de2a1d5d83e340e408a205b69c48a92a47af9575b4d462b4aaa370b308fda1eb5d4f3abffefe5d3b8910aab70be808277f6ec8cd149fb128c8c2c778abb9da54a28c6c5a17635ea2b5a549ca0c1c94dfb51f514ad801fb2b7adc9212f420e85abd43f3aaa5878c2f545231a54b4f0efe95e76f527bbd4d37ef648cc27579288c6abf15a9e9420fc03b4aaa2dea16336c7e04ab130e229fa4ee72b1b73c454375520f312377f7ecbbf23a5f1662cbe5803aadb16d4a979a9459c3ae2d37b1d879cbd6252d2fe7ba69b681ab970f3cfdf</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">Hey, password is required here.</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
    
    
    <categories>
      
      <category>周报</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>22.3.3</title>
    <link href="/2022/02/26/22-3-3/"/>
    <url>/2022/02/26/22-3-3/</url>
    
    <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <script id="hbeData" type="hbeData" data-hmacdigest="69dc7e8c712f562c651653a7ca3f205bc380d4968c6d312dca9b0f4d9685f527">82214728cd5831a318199fe07afbdc9ca52146dbdbd5f742e511be6bec070a7e53898118bcd9b05880f4d326765cdad2842a881a4bcb5bb01302935e8f4c286a997f05e0c04ca953dc1f17ac960434a3b6a29ee71962a2efdb60dea5ad71148e1c417f28f7f9bd4f8297b34ecbca0696582b968dc7d2bda7615e270b32769702f804956792db73d6dcf37a1dc101c5eeb43f151601e44240ad9b5b3320bf161ca91c8aa31aa553f5bcdcf67036f4b6ffe49e884708d735807b29c887ef903cbded84b3107758be8925e3cbe4d3a297ec62ca826193fa307fc9d931952daa39f4e90182a962fc42235a395af0b279d99603144b155317a170e3abadcebfcf1b71125afd05852f473414e54abbd63bbd42cc683ddc2b81047ba3b343d7f29e04f1dcc1de1553ba9b25f04040cbb81013edbdd279a131033953d92f15dd64cdefd4424a2381dd584e555cceb302164e3b3729580c1575fbe31916a6033d20b7318ead876293bb03d07cba214a68e03c25a984fa6a3261e234860aedfa3400708bf1e0a31b92b80c31bd6f68697896c01de24ec316b849f8c79b48503697cc3021b347a92a10899586e6d924b1a5c1ec7ee13b1810e259e48955fd96e73b8387ac6ce6b5fc9efc11c1c374bfd3ea0773af1c5cc067e14112acf93ea21c684816f0ea57b6636a511d1cd4b0473aa40c7c5dedbded5ca9fe4b34d440340da8cb6615dc99935afc34cbea3c077c879e80efcecc0a2ecbbe322e9900a591b83041b445f46e4a71edc22d6e17db5a56197402ed61c27e68fc13bf4264b844f6179ab6e4da036c17ade9bcf9a5592d354aed4fabd95e85a334b295f246bc467c8355f6b877558e73da33478de1531431e7fab1a613609a09401376a2b68bf8e230bed0041852a63de9760ba757ba577806e3ede92792de87e9cdb388e354dd91423a9ca9d6cef287e5bc4637a890ab0ebe55e2a01967a3523106434d3bb4310f4f04f2d33f523f62f94950e1e560d2714a57db9b5c04265fcd89751d849808ceec7af399fe18f92c5bea7e7731b00853ab471577fa90380398a792261bdaed2871d798b130a83dcbf4937385305c63a8073f63c68ae0f3a5c00b3e0cbf280c6879579fa8642cd3b6d51d9e300a7bd97362125e3d02e0ca1a2ffacc70fc7410d69ad8cb3b3343dd96f35bf648871bc269d4629acd591eac608f3142a9fbd69fd33015ffad8e8f1af8cef5fd58d79e8194cbaac444999772ce0f00619b8f8558bcbb2b587f8672af24d401607451ead6aa9ebe120ca2bbf741abb18b723a2c975747bdbae8668f6d73ed0d32fb14a609bcd0288e018621a8fa27c95c5578f2eae5451422d3d2faf5b21a258c45d0ef6c957de1039fcf54533c3a89ec1be35371b3467acd28ffe9bb093e82183214c9a78642397b989c56dba056a27d912ee04084ec34c18fa2f49f6e43cc37d477a0ab6721b155ab0157f2935e7b90a2d4518c9c4d7a40f33a127c8088bf84a9570812ef17ab61cbe19625147f83fc4fd2e36b481a888dfb12d7b94da6c8121137193a404c9e8918bf4b1e169bb02187c71db697f0b42a66e33abd70f10dd8976c42e05b32a9d9ff9d9106f90100e5fbd99a363b9d1c89dcedab2d115a86e916ced59bce9264621c3ffe22b17d6c5547e9bdced2790ffc7cb90f814e63b12fc4ca0e3d08f646531235</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">Hey, password is required here.</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
    
    
    <categories>
      
      <category>周报</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>KNN分类算法</title>
    <link href="/2022/02/26/KNN%E5%88%86%E7%B1%BB%E7%AE%97%E6%B3%95/"/>
    <url>/2022/02/26/KNN%E5%88%86%E7%B1%BB%E7%AE%97%E6%B3%95/</url>
    
    <content type="html"><![CDATA[<h3 id="算法步骤"><a href="#算法步骤" class="headerlink" title="算法步骤"></a>算法步骤</h3><ol><li>先对一定对象分好类别（一个类别中可能有数量不同的对象）</li><li>对于待分类的对象，计算已知类别中的每个对象与当前对象的<em>距离</em>（不同任务距离算法不同）</li><li>按照距离递增将已知类别的对象排序</li><li>选取前k个对象</li><li>统计这些对象中所属类别频次最多的一类</li><li>将当前对象归为该类</li></ol><h3 id="手写数字识别"><a href="#手写数字识别" class="headerlink" title="手写数字识别"></a>手写数字识别</h3><p>​        首先输入已知结果的数字信息（32*32的0,1数组，保存在文本文件中），根据标签对这些对象先分好类。</p><h5 id="读取文件方法，将32-32的数组转化为1-1024的数组"><a href="#读取文件方法，将32-32的数组转化为1-1024的数组" class="headerlink" title="读取文件方法，将32*32的数组转化为1*1024的数组"></a>读取文件方法，将32*32的数组转化为1*1024的数组</h5><figure class="highlight python"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></div></td><td class="code"><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">img2vec</span>(<span class="hljs-params">filename</span>):</span><br>    <span class="hljs-string">&#x27;&#x27;&#x27;this is to...将32X32的图像转化为1X1024的行向量&#x27;&#x27;&#x27;</span><br>    returnvec = zeros((<span class="hljs-number">1</span>,<span class="hljs-number">1024</span>))<br>    <br>    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(filename) <span class="hljs-keyword">as</span> fp:<br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">32</span>):<br>            line = fp.readline()<br>            <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">32</span>):<br>                returnvec[<span class="hljs-number">0</span>, <span class="hljs-number">32</span>*i + j] = <span class="hljs-built_in">int</span>(line[j])<br>    <span class="hljs-comment"># returnVEC按32进位，j代表每位的32个元素    </span><br>    <span class="hljs-keyword">return</span> returnvec<br></code></pre></td></tr></table></figure><h5 id="将文件中的所有已知结果的数字信息按照上述方法读入，并且打上标签"><a href="#将文件中的所有已知结果的数字信息按照上述方法读入，并且打上标签" class="headerlink" title="将文件中的所有已知结果的数字信息按照上述方法读入，并且打上标签"></a>将文件中的所有已知结果的数字信息按照上述方法读入，并且打上标签</h5><figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs autoit">labels = []<br>   File_list = listdir(train_dir)<br>   <span class="hljs-meta"># listdir函数作用是返回文件夹中所有文件或文件夹的列表</span><br>   m = len(File_list) <span class="hljs-meta"># 文件数量</span><br>   train_mat = zeros((m,<span class="hljs-number">1024</span>)) <span class="hljs-meta"># 创建一个m*1024大小的二维数组，储存所有文件的信息</span><br>   <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(m):<br>       fname = File_list[i]<br>       fstr = fname.split(<span class="hljs-string">&#x27;.&#x27;</span>)[<span class="hljs-number">0</span>] <span class="hljs-meta"># 分裂<span class="hljs-string">&#x27;.&#x27;</span>前后的内容，取第一个</span><br>       fnumber = <span class="hljs-built_in">int</span>(fstr.split(<span class="hljs-string">&#x27;_&#x27;</span>)[<span class="hljs-number">0</span>]) <span class="hljs-meta"># 分裂<span class="hljs-string">&#x27;_&#x27;</span>前后的内容，取第一个，然后将数字字符转化为int</span><br>   <span class="hljs-meta"># 比如<span class="hljs-string">&#x27;digits/testDigits/0_13.txt&#x27;</span>，被拆分为0,13,txt</span><br>   <span class="hljs-meta"># 此处0即为标签数字   </span><br>       labels.append(fnumber) <span class="hljs-meta"># 储存标签，索引相对应</span><br>       train_mat[i,:] = img2vec(<span class="hljs-string">&#x27;%s/%s&#x27;</span> % (train_dir,fname)) <span class="hljs-meta"># 调用函数，储存信息</span><br><br></code></pre></td></tr></table></figure><h5 id="KNN算法"><a href="#KNN算法" class="headerlink" title="KNN算法"></a>KNN算法</h5><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs nix">def classify_KNN(test_X, train_set, labels, K):<br><span class="hljs-comment"># 参数：test_X为需要判断的对象，train_set 为已知对象集,lables为对象对应的标签，选取前k个结果。</span><br>    <span class="hljs-attr">rows</span> = train_set.shape[<span class="hljs-number">0</span>] <span class="hljs-comment"># 已知对象的个数</span><br>    <span class="hljs-attr">diff</span> = tile(test_X, (rows, <span class="hljs-number">1</span>)) - train_set<br>    <span class="hljs-comment"># tile函数作用：复制原矩阵，（rows, 1）第一个参数是纵向复制，第二个参数为横向复制，转换后得到的矩阵大小为rows*32,</span><br>    <span class="hljs-comment">#矩阵减法得到当前对象与已知对象集中各个分量的距离</span><br><br>    <br>    <span class="hljs-attr">sqDistance</span> = (diff ** <span class="hljs-number">2</span>).sum(<span class="hljs-attr">axis=1)</span>  <br>    <span class="hljs-attr">Distance</span> = sqDistance ** <span class="hljs-number">0.5</span><br>    <span class="hljs-comment"># 使用欧几里得距离公式将各个分量转化为一个标准值</span><br>    <span class="hljs-attr">sorted_Distance</span> = Distance.argsort()<br>    <span class="hljs-comment"># 对距离进行排序，argsort函数的作用是返回 对象值 在排序前的索引，比如排序前列表中第三个是最小值，返回的列表第一个值是2（第三个索引是2）</span><br><br>    <br>    <span class="hljs-attr">classCount</span> = &#123;&#125;<br>    for i <span class="hljs-keyword">in</span> range(K):<br>        <span class="hljs-attr">vote_label</span> = labels[sorted_Distance[i]]<br>        classCount[vote_label] = classCount.get(vote_label, <span class="hljs-number">0</span>) + <span class="hljs-number">1</span><br>    <span class="hljs-comment">#记录距离最小的前K个类，并存放入列表。KEY对应标签，VALUE对应计数</span><br>    <br>    <span class="hljs-attr">sortedClassCount</span> = sorted(classCount.items(), <br>                              <span class="hljs-attr">key</span> = operator.itemgetter(<span class="hljs-number">1</span>), <span class="hljs-attr">reverse=True)</span><br>    return sortedClassCount[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>]<br>    <span class="hljs-comment"># 计算对用标签的频数，以最大值当做预测的结果</span><br></code></pre></td></tr></table></figure><h5 id="测试：使用测试集测试KNN分类算法的结果是否与标签相同"><a href="#测试：使用测试集测试KNN分类算法的结果是否与标签相同" class="headerlink" title="测试：使用测试集测试KNN分类算法的结果是否与标签相同"></a>测试：使用测试集测试KNN分类算法的结果是否与标签相同</h5><figure class="highlight perl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs perl">test_File_list = listdir(test_dir)<br>    error = <span class="hljs-number">0</span>.<span class="hljs-number">0</span> <span class="hljs-comment"># 统计错误个数</span><br>    test_m = len(test_File_list)<br>    <span class="hljs-keyword">for</span> i in range(test_m):<br>        fname = test_File_list[i]<br>        fstr = fname.<span class="hljs-keyword">split</span>(<span class="hljs-string">&#x27;.&#x27;</span>)[<span class="hljs-number">0</span>]<br>        fnumber = <span class="hljs-keyword">int</span>(fstr.<span class="hljs-keyword">split</span>(<span class="hljs-string">&#x27;_&#x27;</span>)[<span class="hljs-number">0</span>])<br>        vec_test = img2vec(<span class="hljs-string">&#x27;digits/testDigits/%s&#x27;</span> % fname) <span class="hljs-comment"># 调用函数</span><br>        Result = classify_KNN(vec_test, train_mat, labels, <span class="hljs-number">3</span>) <span class="hljs-comment">#KNN算法</span><br>        <span class="hljs-keyword">print</span>(<span class="hljs-string">&quot;the classifier came with: %d, the real answer is :%d &quot;</span> \<br>                 % (Result, fnumber)) <span class="hljs-comment"># 打印预测值与真实值</span><br>        <span class="hljs-keyword">if</span>(Result != fnumber) : error += <span class="hljs-number">1</span> <span class="hljs-comment">#统计错误个数</span><br>    <span class="hljs-comment"># 这部分和Test模块相同，直接copy过来就好</span><br>    <span class="hljs-keyword">print</span>(<span class="hljs-string">&quot;the accuracy is %f | the error_rate is %f &quot;</span> % \<br>          (<span class="hljs-number">1</span>- (float(error) /float(test_m)),(float(error) /float(test_m))))<br>          <span class="hljs-comment"># 计算准确率</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>机器学习</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>22.2.24</title>
    <link href="/2022/02/23/22.2.24/"/>
    <url>/2022/02/23/22.2.24/</url>
    
    <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <script id="hbeData" type="hbeData" data-hmacdigest="ae777cebef74aa262d8d4cd29e7c358b10608ac5e8156def4abb7dfd08f4393a">82214728cd5831a318199fe07afbdc9ca52146dbdbd5f742e511be6bec070a7e3c9467ad9935821c0f565899445cceffc1c76927dc6422cda8106ef7b4e20c921de46bc1af2537a037c45cf13be72e2822f8f49ff28034944e3e9ca3054e2a8f3fd7d5fdabe64713c5532ca5659908a9bd571999d43561eb351b47ca68aa33088f4aaf4d4a461935162450a17591fb554d6779882170ba7610bf0ec5df146d60a27d9908c4b162992f9a4f768bab153b197e1f41fb2101e29fec787e40336346583ffae7a1c318793d303d9dff56a87b778340130cd53c9702753d1af596193750bf1cb5b87293f19c0bea19acc2e2996d5406146182b90469f9fa01659c52dffa011895bb26685ab9ba92bd1671e8bfe542722185360ef98b2f6a43b3ceb93166c53fae873e4f36a7f551627c91507da8ea0ca6097b41ebb03b3461a60bee54a1d785e9c6b47a5fc956bcbd91d150ab522dcd0da94790cb4f08692145350b0852c049f9755dcfa270575ef297621a8e1346935413563e7c1cc4e2c5529fe88264a73ca274bbdb066ba7921aa42cae5b77c17c949256d3290e8608538d3b8ca35f5b0e42fbfb9c4ae6328e83a8cd5aad8caad811f837992ed5223f35bfe8c7194f750c06d9121c439be45071759af258d99a895da0fb44ef4e8775451ba20f577c5a59ea7981c52ed5c30fe4a8e0a6bd653a36945ce7b5875ba0735e0d0e9b35e52d956f9863dd37fd0b2f428f8a98cdce521056033c5e89004cb47f15c60c5a4a8fe8a757c265263607b6b83a29befff94be5d80b723df0f8d79e981d4c2a85e754d3829e789cdb67b8a810d20f34bd3c0d02943b062f9b3faa61af4ad48bf2d11e85a4abfeb05be2aaa061d1fe2fec0b6bdb0ae70f09d5849a6288ceaa00f3d9704fc19210131b2c48b495f572ca652b248f89575c08cfff44efe6a163cdf8d5c326a999d03e598518e8b697b7bedf34bd77dfd3bf4ed6a57b7fe8aca965a9683c6595c60b1175b43711bb071b8f0f52fb6d214aca41f6be632b1bf375db92cc381f104a99d8ec86f88dc5195662c33eecc2b3ac7c4a529f38b07a78636011a0711f79c2d8ca745bbcfe4ae189c3aa989da16d966abf23b0974200d5319b7ed3af8d26dda77dd4b4cdc971c71c7e6cb9096ca9e4a23176e8ebe2a228d7ec93d7517a5f6d84997e5454cacd59e798f4d0fc6233770e86dfd6314875be0074da9d0f88d9fa0ebf8702f078d40ffd97f6db40d3534a44f489e70143633c44783eb2e499e986aba4a7a8d76f2500ac73a07098c3a82408de5a6959ccb7681bd7e9b3f13b507992b768b0354d734f9efc848ad6f825e3a285ffcf943821fea0e0f13cd96feefec6c846ce32a1f50969b6e6896142ff2613fdebd708acf65ccc81ccc3ffb510a1eb898998afbce3d63f8b243ee6a334ef3249aaf29b520edb775e3c3cbfe56059b8357d5375196e07f9629b1b82d5eff9767c313977ac83b258171bc048b5f3b4cb4e3d302e8e2655904f4dadb1648cb864488fdd1b1aef341fdbe3397befbd80dd11ef2b83f8465d4b771544e4da2a01a33eea7523cccfae65aa875dd053412c8af5e4f51c88d0ae370075e29a56744b18c2b563fa260aa2323a7b710ca1ff9fbbe984a64148b47bf86e0b15b95b3a4216c7c5ac5a2ebc15ec7497c9d32af7b65b854c8c4070d6dfbe8b5cc931172799915b02421e8c1f1d5b47635777f581dd3a8a6ff39b0578534c621aba8da4ec7314ad2af40becca365b4265d4f85cb45f247a603992d28fdc39f5e5309e1086e423b0b47b525609482527631d8ef2ae8f603c7fbec72396136fe1b945b14b7fc06c06335351283378b81fa512f1cf635052a0e42324a22b620dffffaa5bacb210612462b46b23e74ddfa8ec77f856ace1d94f760702371b874a191ceceae04d2fb6a5e037b7b9fe9becc57fdb41213529bd286605ca664d105756eb1bb4862917867c597eeccd17e3b81ef8306ec4be0c5cb7224a139f8f68984c9188fc7acadde0c1851936fdb836075c9f685638c408797797be1938901739e35453d451f1cf9066ebe0800867096a38aec28cb138694fff8a7d919a751048cf2b1f1c66881f6c043baf771d3ac106317f6bb3506fd26e6dae71eb95d519dc1c09705745e22f4d0228e0d7ea2b327bfb3a091d77d406966912010e1cabc03cfd4eb3fff1be7d99cebd1fae323e958287a7a76f29da65b427b6c55d60f2be255d10766cc9773b5c67d3faf300b667bb91f837dd58e3983f5120d34e0face543b0d774fde750f2a3c84bfdc8ff7a36eb3d651ab76e996615bf3320473ea81d7d8d4a5bb7be617f5ec386a348582ecabe74612569e3ea22ee7fdc92d7205594631a76bbb2579d43eb4d24e50fec8aef84090661e4c33ba77cef03402b5fc0a0e63f3b2e4619ca8f730d04e69e0c283998c36491558fac52212480ea5d02d1c17d45671b645defc0b8fa377f1514a7c1ae9a1a3d18feec55761984d25fa34802066a27ffb48a9dff1ba06ed70cf6864893154ae95b156d690461f5d3a6c5f058b046f57798ebd75c3a028c2b67abe6a52c7b1a27d0beeff2902aab3f03d322848c1b076a0d2cef488fec2301f8858d19f6ba1be4e79a2214de4ec5c8e058e3bb1f07c3ef3f794ded8bb84d358d54bf0ab6e41d370899059c42cd15b7aa4fbdf1755e5794123c90734009761b4f8ded4a223a3653d9f9d726a0f27c5c9ffbb44b962ba3531783a4c85a38e5d1a99764b2b71435273466e4c0984ad917cf0faad347ecba2754073613b4e9c890013be6ca621c53aff106c9f622aed01183bf16b03c8142daefc3c6944a8db54741b428710b6cdd311594e03aa3dad3de2152c4597ab7dfa4dd7bb4576acfc446dc549b2f71a2dedf9f3747dd0e4505473ee15f35dc4de1317215dfb6daa458cda459e4df5dc3099907983ef05936d101c2c9d725d1eb08f8a9a1fcf5663584fec987bb087a6b44653616beb910d85205cf2d03df7555e532d7f0736244a695ca93b72a9ed5330dbacb3ba76bc5e1d16b5081aa4a8fcbeb007dccda63d4817aa5d484e1446de43d76032466f83a5b4a5cfa738f8014532a8cb2567efd63f958cba4ef53a5871f3a38eced45b03a60c7739aa5f96bc27c831c22bd4145d211e723da5ed29dc782457f05164055a4b431650bd21100efd4caccf2a949aed07623f7bce57297d95128e58792d8a507f58dd7f8ab0d4e9caccbf6337b7d4843eccfbd33ca59c780afe926e0795e5c6d22d7dcc3d5582dcb061ed0e46daaee689cff8b70a1a86b1c5573ba4460294f67c04f33231ebef12113f0d895418d09cf7b91d3dbf792ba06714d4526b4cbdd8e61c480ee73b57abc8567778b911703e1558e54938f4a65a626036512f2777246840811dd584d7ebd1b2f183db5f54f2288cd7f7923ffd73c90f50929e78bcfdb4aa7816ffd0b9ac8356d888ccbfc224042914bc056397b214921f924ae5ef0dfd66a9c056b23918a55cb0031065ec99d0ba9b9e8ced9fe2ad97b03c96839e26ce58f922c723e9d9d083b13185e4e7e9bd5b00a224c1a366f089da8c2270c541d12d2f4a3a4b99d1cbca4acc1f8859f38817445d26ce4bfcbdf785578b4b504a28b531f3ceef315461f436ce28357fe483c5df443bee5e069b26c928bbad3d96c071a3e684c821ef70d164674481856d4d4f1081a918352d8c5f569d23e2faf42e9dc15149053975da94591f9451992e0d603d55d88b986622ccc1ac9b7afd97f4fb0485032bfb43c15370e9c1138d17acdbce2ce8411f9f25f806d703ca41af42616e509f31a87a954daa4745c6adf52a0ac0a7325193193095dba9569fbb650c22af23c546f59dd5726c835af109029c58c9ad703d44a81deb8f9b9180ab3fc47cdf3b8661fd76c9c19bc92e2bbd3f059ea291ae7417b1c2706ebf1756b766e118602b1b0088d936e3bdf6769f0187493e998af7a0575656c3857478a935cff8ee055e4a0597df26e412b9b228aafdefc81918afe8355e5bac2e5c094109ddf92d2451ddd8d7c3c6e81260e60c350b88dc85f98719b3ff81529952b02903e8ee81442e74730272942d92eff57afc2cbb63faa78a7b69d26276d47c74ede14ed256b80529bf34d1a49ab53c5ccf338be2ef28896d5d3828b2f9505957b39d190709cb9c8578a8c69f433bb21f2713b08413e8d4aa667793b08f23d1808d3525b75f2079dcd843f6c5b2ccf50cb59a249be019930733deef9170b09fc65f5a43abc9ecce706d989fd7c4376544e91b1af1a262b2c2cf6b9c48d3129154538c31d78f7db39107c3b54a2c0c86f77eee206adf4838a440dae5b4d629ef620c5700b08a66351e4b33fda408a431d867ffe602077a5e57f00716ed197b74f8ebd6d090ef3bcd2bf7a1ae2da30476f0a9ba48af79c9db1846d4a3daf92526a919b5fd5bb05a92d51d72e2b2e0b3c6f7748d79f20d05b5b4f8306d8cbc7c49e57bd531e96e80b8b561880ae405e815d2cd668a9f33e13bceb6a8d3907a3b0b05d0ddc93960b622300403a153a9ae426b561dc3c630bbfeba22bb5041013516488830eba68d3548831dee9115397df693522b1b4dac73ad0c5752cc337a2e813f793551c2072564a7bb3b3b7b615ffe0d77a07b77691ad6e799ac1f56787dc3ed69d51080bda3f0a4539b6a063f0ba4097f081e8a2c7534930a2dc5dd082b1204addf86ddfe232d1303398d7b436f73a50414c38fc3e4956e0fd3d8568a1c28e721c25db8aa9e1435e7b2486fae2ac21780cd890ddb8d400828d160afda2387925160c99314a585c2491842900ad3ce703c992c424ad959794c4ff99d10650c980d5459361d84e5f7ae7637b3d3b4b23e343970b98cef8435929957c3d0c1b0686b7e0eef24f673ff52a1714395d3f4e2d0a480dea6fd6bcc0e275ab7966f8a58835c22b01993b67273845ba6a00c3843f9dd387e6ef9aa4b2d5b816d840e47e26258960a15aeaefc1c21e58c40ed6a929e3d311c04febb37fd7d4962ca0a5e22ab1e5fa0467d51c61957d12956d87ea6751917210222654e3b949da477fdf119ebfdd789e125e4134ad247c130ebddb1c8b8ec8ba6462141aba27ee257584473ece1fc083b6cd10e174f17516a8f1af35d9e6748e46d90530046315269830f7a49287497a02f41eaabeecba21506acfcc7721ba9d51412b88559192751b2c4705d2b49f694530e2ae6936f287934d2a4776ec53d39f525cd48b10c1cd2f59917396870628b3e9bd0957de51cee3d486cd537e425dc3b0be2f1068982e802aa83c89d26f6e8ef618a876860199c07e09d0faff6d1c59280d7f727a92f170d3615327b3db494918184d84ba62ae842e7edfc876593240344281e8d16f3a3c119186e906876a8028568598bd9574fdfa2ac32db42f7db3d29537ea0f332b8340b77bbacbafe5590098b0ddcb066778cdf8c81fbf18651977fa86ec5056f8e9d97d3604f7cc03470bac9fd77ae07fe6e38b166781260c810a0dd7ca79c4fcf555eca6a0ba88f1d770051fc890f6cdf7d03e5359c3d52b03eef310a0cd20edb7eb596d75da9e014081e54701ecac1d748ba1106a1145d40abedffe83e9c7791eb18471b5e5595b2622bcbeca1fa3744ebe489d504420346caef0f44002ee0519ee65f7c6e2b0bff3d7240fce1f2d10fc9c8a73144fa51650e522650261ce769eb95606d23e45d99d633665714a3202ccd1ed467cf1ef44acc16c3927e94108a449eae55a486b9da51c084f2ba5837d639d05a5e01df8ccfc6bf798ff5ec3b289479f44206a9734ef0e73eb53690acdc6d7ee780d6d1279502b342f55290cbd144ff6029eb6ad9c543418acea7440a2d33e1bd7cfa4ad7a83a3bfaf757a4ab4b123523cd98ceb4757460b6b13056ec7e4abb84b552d5e54f8b7bc471f43d333920e0ebadb7be6c473efac12009e8393c91cfbc817ed98efcc141b2e0f82846730f6731be8af93669245d4f7a849dcdc3acec03bbbad206cc4917f975a978ca98b538969f7e08efe07166c7d8d05696b3a9c1ba4a8920efe479006af9703ac65aba75580117b52da665358c213981106507a1cbd17660397490c6cf1c31f542733bf30cf1063b960e5f5bb29af39cde0c77ec6b76360618c9c9553a4c216c1d80fe7658400a5e6750a304aec20746f6de21427fa3f8996c295f6eb6d7bf3312a097d73943f732f66cb91d54a46f5eb68da447abcfd24ee3a2ec732a60837dcfe1ee08535f377b3a9175365273d3cd4ed3e203e5b68f8860169b0d6b977ac413951e444c580eabdfcbf91d8efe113268cf29794adb15d23a3a88bcf305b0100d2c58b37c93844c7bd88fa1eb6bc9c2b1ef76ececd9358893d5f199254080d50bf91093cbf5dcd064d1a86b4d0465eca091a808df6d854182a94a1ea5d8a2dfb139f5b482c17531a71257a8a3447edeb21ff53a9d09d8a8339e686c884ca3fdfb095cd01d5b3bab94ef6f19646bdd3bbef2e19c0752e26c184b5b1bc03f45d723ec0d4f6447f168c8cd5a46b8c323d8562a2fcc6e420733b46bce4f998ec8e47eaf14e0564a47b5a629d156a6e7fb7bb59541960737b88df3088f74a1909598b8d8ed91af555a37b7cdcaff861815f06ed567953b4cd3d5ea850c0806248fad153424290bab3f21b96431e8cf5b2afe6cf34e4c1710dae4fc20f8ab0f48ecbc38eb19c282b19e48621b6c86879365f8e0a2e448fc6c4276d0de718ae289604ace46bdb640dc679d30615e488fd4dcb41e3785f3a5c43ee407348a6b53386bf0938f6623e1e8884cd2a197df8fe923debf60117344912f094cf70c002b092d502776d5308982a3e713642cf598371ef3df2353df7d4d5fe2bd0886d1a3e335064564c5fdc9f40ed5bb8f80469eedf6c74381d50ccc6ef83337696117ff5249f1683087bb7b00e7188f8bb730bccf23cb080f89af38272a3370ffa3e3ad670d1daa685ca82e3b9346dd4f6bbbf97bae441d773c564b840cecd4b3871e382e5f75a75418a373c4faf95cb73cc3ee4ec3bbd8c87bbe65f10e592f654be3cbf804e94b3bca7d58f3e33f5c4f70be6ac00568b4bc4225783b983316f805c481765c37511018800c85a5c07a651acb11c2f2c978e8d5baa1317fce0181bd93d54efb9aef2081d5c809c7025257e214f1f031fb904a9befc3cc6ce700f7f325b1d92e2de9a42309afad21311faa63b23513773183bb39a8eb49a78446383c87fbca28b25762727fa364e2f0b22e09042ab6ce278e53ff6079358838f70ae1572cb6e31e2e0ed9569c4033d012ba850ba2cf93b642d3543bc9e18643f130791478d2e139c3d671dacebc19eedfe5eb89b751d3ad730faddf61d04eb775abfc04f057511ee2dfa6d4cfb532233978219cba52a13802f6ee561eca9cceae27031d4f6066a3522aba8faa49ce69d2562c8321fae42142f44bfa95bcfc9f2b9dc4038fd21a5b983347d9a2533ab6ec8e3faf2671e68de0236c69244ee6d04c567c87bc3d833b3bc0ecbcbbef419f763be3e997be848a350efeaa7b90f94cdc63d5028fec3965bee884d4e4e29ed62f7c9749f3ef017b4284232e2b5b6cfbc3991124c20109e35b28ae1a8036889bb181eeae499a87f2cb490edfc8c77e151139009e7fe112d54b4bfaf047339138c8dcae530f8a289b965b725cc6f76e21977b87f1c74d6f6149c81751b633ef1bd920c338096b04b2ee3c51772e955549fb2c878405d892397875870117d78fdc3a60fcca8499e7dcdb75913d83ec4e2a58410245fc74180ad36db3345b014125673ce243a0a0132284afabc41afffcf69034d4a0fea5844843b6e475be3dcbeceec937d3bc4b81c7fbb69624ea28beff242df1d779cbac501c14b8d381987058d84d12fe5dcfbabefb3a5e136a46c9f44043c54aa7f6922264a580b54c56187d6cf6db4c46f6fc33e0422715b4e1a76db2d2442652677fb967538ffb2fb69f163b3ea411ddde67780328f276d36bc4cf83332b03a88ddab3bf68c2854f3b7064478b4540299e7625f8d34b3a7ea550d6242ae80217163af43a81d3437cea6c42a7314cb8a496a7f7711348614977f13b179f6d3966b8260cf1942b373b7097c8f64de724cf01eda988d04201b0c7dd2c43784cd37ed2947c661c28aa9c3e725a240ee889d6843fbf764eccdab29a229e896897c4245020328097f2ee24539783b2b2f125ff987c16b9a49a5082d82970e1dad0ab93d9db016a744ab1b5aa87bd2b68212770fe36173cfb3a9c4d5ee7bb8997573dcc43dde3bd0917d4c7d001481efbb58400b6d439d3038af96e7b497896a5a6ce1d7d89ddc2f2034395d1806034e823f7e40296f56b4d71891f191c724f049727e800b90d9482d9bd9d9660f7b91a43a413bdf3e4810503b44e63867c204b89eda8945f1f1b0c786e1259c72d00ce28e0dfca52b17a65551c939971c7b20bbd02459f4b4940993b07b9325d48e5ce879f8337e1bb9c3d25d9ea60705f4fa52b69ec19a6d18fc01b06fe8ed752384432acc90ff4c90133a987412de526c4e4774b6d3c8b35a020ad074b66355678727e0725925d3baff7d50911cfb01e1fd78a82447412c789ae2455e64849d79869334a24d1683114b368866a3ad906061028220beb80399836cd78b9edcfb5bd3b225873d7874e90cd939b4f751f47a28d7ead7efca7f084314a820d281c22cc87b6d766ad1554f7e113303ebf6ff74ab2fac1f0f67f38d7173df4ae61df23ee85cddf63a117ddbc5038035d92e781fa4476a1c527439936e2dcf751ee62a6e179ea842532c7aad5763c60b88178ab45f10731b9b72b7f43fe087ae0764292a88827b499fd6e02a2cfe0ff19f109c426a5194ce49744e3261d03e8c6c2a3abdfc2309379654181aa2b90b6b45623904216bd1f3e4673caeb6e9debab37ee17feef51fad7f065ed8ead4648f8993d35684508bc0da5a13e7c369eb05f2b89239364798dea7e6fbba487c7faf9e2b648a4b9c0fb16eca223e0777d5633a3a264d16539e6ed0c06f4ebf532ee49a289bc5e4407f30fe16c99fd5e900e63b4241f644d4c6f8645f18db1ef90af766dc8182a36605da4ea83a7d28d3c8a49464147ae08497b1a92a835e6cdb2e33873d815be0baf40c3c98d53755a2c3ef9cd30376adf92767342551cbea6ffe0cd2c8e0f56ad881a68b64962edfe28aabe14ebcf5d5cbb2d2ab0c019df5dc5a6eef6db548f235c43ed9fb574f98996501c45be08618420cc9542d898ae392a53936c468d2e129cabd549b9a00521d5e9bdd7fc5304c88017831e1121717f716c002d64ae420468944591706a6f3db76598b914092f19c0c3c42e692d8f1f3289decddbed1a2c0a5efc3e53714150de0866ea5a7aa9a5437b3b6eb21909c38a093369b49a7e340f3e942a879304ada80bdb9d6941193201f1d3d4843485641b70b8b349518771a3f3ed2c3712b0b3e981b2d5441542c78ecfe96b1ddcc64e2cb68a15bcaec543eb8058bd6535b080cdd8d16f878b7e6a34257cd8f5383db57af786dc095b67a520d4ef90933225280e1d0c36d69538d5396730aee89ab9890b8e969050574fa4c0f7bf0cb2c0f8119159922b82473abab4a3dfd5eb4bcc57a87825935728ffdfb57ccde58128f330ff5e827824d13836e42ecf704788806aac395fcffd68111a7c7f6851c8c818064927e104ae32acc72807ef7b9fd22e3cd7b5081b488356c064cbd2b132421d888e9c6de20d865ebc02f996f372ea16ac8068ad214aae42f856cffeada7d1d847edfd623c2c1a1cd9fa8835bc78c108655336786356b8778460c54d4929c907afcb29c092d1663c76d226bf66f26ce620902103f24c8d3f5c891e6c70df659b79b8997d3df7fccec8cc5cd8bead5acbee79e7d8cd87ac4080c48db18afce99d2743c53a408c1012fc31cf1854225b8c015d6fff6a0204728a39dad52d004f824306631b0e40e9bb93760391f21384aa3fc4a24e9b07c37531fcdc5310c250ad011c25c0040d3ffb56b59cf2dea81d3118e931f7540110620de02df3e2f6037aef547709ab95159d6b9a569bf07aa6f6d80f07055d8a28371adca1cbdb521515b41fe93ae29ad359ff02e5f7b93688b5451156cf4b95e638e3a1320adf7945da56ec0c2407d8b9a82c7de580f855dbc74ea35dfab4e99fd54846a7c24d892e6d669a9e50d4f79057a5c4e8516340ee30daba849d1617cb3b16ff5126ace5dc09ca6bcab82abac882a0ae08137fb7fec4187e94c496aca98e98623bf9466ad798c3f842db123646841a579748a660158edec7221f9e98fb5ce3e731aed6637b47f23d72997debad64d21cc607bc359241e9db843ccdf1c11eb1bf41b352cf7b1df86a628ea5efd98e31bf40eeb4b2028121484d781955a7c2f5de52340744474cccc18bf78f82cde45558875a2e53bd51d15cdf1fbe7f9ab6982f6caa85476df64aa005eba7f86f554cda535746370a79732daae4ce8794223ed8691f43691be28cadfcce6e3e1a698a285e9913d3a9328949a25d2d57155e7809ea78d5a85d1a3ede87af664859d7a7d20f3d3ad7b6eb81f98ac82c53cfdc7172e62c517b41f7b9d2961536a4300749803e43c0e2a3c8c566f78dfbd04a50f06e6ea65bd73f5dbd47c367f8bc67ccb4a89ab06660b32baa96ab310473e4134c9403b6282fc0d064032cbf20a67d9a53e895e010a1f3d1e4416910c14e34a01b3465e1cb854fb24f7d954c968d67fde921bd5b5d75b28fe226764a199063bc90335a7f576157c10e6deb8a3198436d6db738885ed54350db7662ec39e0708dfba6c75b61e467be07a7a662c820aa3828dbf39367a02047e358b5a73cd8ca50bf68d0a7391606230bfcada75a25ff3311ff3044e7af15c8fc6ce0dce8fdce9b7e77be8218adbc70ac45a3a107e992a1fce1515bfd0a863c0ad7f620c8ed54b5d1ff447e4ae05933e4cdcc333a494a966879337af1920a60fb5273e8a7f2c8e7a9fd09ae4a4d6536f7b61b135cfe8c0f5317fbdfe6e9069c9de5bf7aa19daff160019f46854f24ff1f37db4ec383a95803bf2ff60d65c201f3f8b907e7e9ea5829ae76df9fc4a81409f6fdaa3b4ecb7dbc48a6dbff5cd3db40f25ab7f5024acc6180467e049a658fef2c5e55bb8d919816f1d6dfde99c1ed96b8c4403673fe5bdb32efea73222ae1fdc99bc4811f1799aaebec3d8ca1e82319909d5b5f3ff1b43bf3b806a80a4cec93ba0700760812219277a8463b45335fcff380a1716f005c9b4ceaec8c951e7a012ee6672f17d006aa46cba92bee3cee534ab24bcded5cfea7f0409e47d9b0a1d5a109ffd683dbf86233ec592c2867dbb6247c26f281c60f6f651793d090869bce0c225e51ee7757e217a9be0649ac215dd1b2c837a4e0affd3144ebcd2907d73948c0b7d540b8e83b68e8fc2ec3aa568d9903a992c4ef309dbe00a49b21be9c8dd06511d6cab0670f2b11c4c68a994c2ca9288bcf99c75f5aad7d61dd01d50350bf67d32c0f626792cc0924addc635225cc047a54e21f529299dd948954268fc196b5e1784cd0a8f5404a9daf88d9c6df6477b50c83744116bb34dd5575ff8ea2739f5becfd50c68d5dad07216c4483cf0ddb575e88e5011cc45f81940d36e72ab36cd1add2502eed133ee72cc891f0f6e526cda87c1c4703313d0ecab497730ac4c2def71163412538469263e206c4071bbb0c9dbe485a5409a22fdb6e3e0796bd74e1c9321ea6206842bde05fd019b9ad4bd81a35b8c7d3ad33ef38418596e7420a9a53b489f4941c2cdb951d80f74fb635b1e435538a494dbcba6008bf4a9ac57b2fd1627a7339b9a9362a25059a36c8a8429e5686bfbf7c1267fb9db2b32fe929282ab6bf36bdbfef102a9e4c2f2ee4779f17be243ea68459d92bee7bbcea4e7c894e82bd8a7d5a7e4cf795af75f417657d175e226365d817c453de7ae1ce4f45a38d3b70e77084efb01d0c915e83ecd70ce7c73dc54b01a51ad88109e3a43353ed641d5590b54650f288801866e0ff6f32326837866899eade7c5f3f9a8d11dc6b0ebb4849c143b0dcad48571c81c66bdeefb62f219b60e2b10b243db921d50ff0676d5ef399f772f0835e4da178344c5298f0e57095cafe82dba54820a2a3adcd0f949a5dda6122e27b87f171860fdd14efddc08a02addab825262ca0200c4cda813cc1a3cf41bf01dc4db4faa08f6c5269e8d7a79acd4aaa94f7dedd7c1f071e0ef5d3c51b12862c795e9a635cb4a2f98c6b6953b2a7624370a798268d2f4503d52c6b7d7451e902831ddafb574302718cabafeb399740a3c0d908f3dfee2baba637cbf6cb104f92c24f3e19af47cc1c17d37181af3133494d46d861d01ff88e326c83e7d9be8efea28f591037fa99bd49416e9f75c293d4c49a68e2eef4a3837179b4e4652b380787b70b06d215dc9682cf126accbf53f00aeeeca5aba8ecdec33b2687893673914125c1677df504661190234359be0aea2c23254e5f1e046ce06798a2b747cbeb67f6d727bfc4d50039f1b2c05995fa3a4f67ac44ed6f97d05e4b7de42bdea3c14d4f8439ebdcc562eb05e4b3db7da21b3d397716688eb9638b015c993f93a51e62fee56d885ca7353591127945f5bea697b751d1065f30325405ffc9ce85a3be964e8a144ac142a95cbac3f0549677971355f721c3188ea01670e21f9c063f8744372481328673be1c819a6ad969d8786265a08a62e464663251168a4aa416a316a8d8b6d25715611913987ad18732df2fdbf53ca2913234472bf332710ac19efbb84308e179f47e05c2831cb8af9f425e461835d11dc3edd9f2601dc4302a0e40d67945498d219cc1b8c036f037b0a5e5c694cd662a67e271be1e0bd95e418eb2b0048cd5f161508e68fbc261d909e6e512491a8b265844b76b9f437c195d89763dc4f220dcf25890d7d9c09ee558b8a87283a5c46695c18f777fd5341e00af5f20570aba3cb76bdbb40a853ca1e7e6fb2332555b74f99e47ac8c2d21ec093b1b4ef277c85eff9bb7ead5e279cc3806545890abf576ef1db900c6f16fa0b11155775ebb0a5424d826a733d63f70c806c2e34957341a6bc44690fbbda05605b126258e28f59f939752ab5e688a7ddb4a443c48990d9d7ef5be97b617485f2993f5a931b130ec275eae3065284be415a74343a44c3a74f088262a84527963cffb86d1cea6bb5cbf52665278ce7e6fcafbe23f2f47c2edc03c62ae8369eb6d8ab7e1bea84cc43b93e87bbd5eaed0605c5c71e3e04ce844810a4fec26e4fe83ea61d0af56873205fe00c9f9f54d0f2bc73725eafaa1e1cae522f1248844fe20d5de66832c7363fb27b9d8f6b58a1a2811c5cb39d9e7d4248ce9e312ec2000e49cd3bacf166f4ecf8312000bdd611a1ad6fb19756b4622540f0cb31fbbb2f028cdbf7169981e1bf73bf862d8f17cefcf1b48f501d7eaec650c7d2e23bf957893780d26ef34bae591baa033362a1afef38385f64b10af74fa4d49742d0333d28c28325ee8b6dc5cce49b6df2b93f4eb45be0ecae4e81afd0afec18210b209f53ab393aea7abe4f2558ad84392fd95d68de34c0af81d68d4049dcd845b7e358ccb8dc78494dbb245fa91f433f959042dc323fd0f292ca3f5840b28a96db4c97e8bde63f5a5f54f8d5f7eaa69643f0de08daf2cb59e239003cd707743e9524c5506c4b0c1ac33e6d5d13eed9daeb427c73503ef0ecf7db3960dc4762388f10e9a00f1d1ed168cc2b8e21cb7a0ca452d391835c60e139300da47c5a1b917009cf013b55fd47265635b7781df2e5993ef668017bc3fb88a2349b041cab71eb18fb9ae9f837ad5ca8751a7deaed8efc938f8764d030c423b17905ba2e1bd27b81d64532b5ed20ddf32cb84cd36528804f58092e846cbe60f7ea78885f2a29dd4a6038d718b4836d823d5286f21e44d927650c4f29651a394aa5714cef12f205fa8487d6292156d7730a98677d6a4a0babc79825cf74a1c07a58c7024245539d8a1ea73562b3a678bbba265db6c1d8035752454d069a6c0e83e7b9cba8c0dda4fc9ce98ac298b51b3e999cd6d1f3a8cf3c914965d2ef5017b88e35f7f084a30aa8bf2fce99b910ebe18f78eb666ebcdea5c9bac8f05cd44ba514bc365021f71fcbe05754ec7e0cd00d376fbabc8f75b7d6820e552e6e14f73b0e57176e4ecbcd19eac3eef3640ec2562cd67fcdb2f5f6ad42c5a63313d51eb3be51941c9aa8f073683eb8d2b45295a95d8e8eef887016d5d2e83d721a7c9c462c14e8d8ca35db40fb51c2b83481a1869c80f083c223db679a78c6b515c2914c176c465343c2f941689569f60daa9623b05aa9d47be48c351051e508a80e0a7e4e7d373405de958f658f5ce8cc153d1ccdc08d02e9095403415d04125094c1b26d41aea267da3c1f72ce306d0c235cc26c2542da931e6fce48d975b7e8c8eaf23e43bb8e15eef3cf6773fa60e519f130425008938a4ace924054110aa215d191cc222a6338cbe990e253e6aa2607656c84044c2f1d8ea6b7c0e7711b0eb1bfe0a1906970b51bc857b803aeaa90c3a2e1e515c9b5f09c84bc70ccdbf00b678bd68cd683c10bbe0a97ec3fbc22b5d0ec09ccae4ac3d203dba6a623f87688275f3af80eb876860e007984feed985f1f6c45152c587fb22816c7a838328efd7ce43a0fd2b899ac9fbd6561ecdf40cdd4f235d70451178761d5711e7caaee7b1b2910d908438d032a49d58b34ee5c00a7262fa808ddaba0ebfaa9d54fa405d4fdf4eaf04a891815f06f89961b63c34cfc442d8119cf92ba3438b22f685b67303f882bd0180c8cd99be7921144c2e09c2f2c9aa47d602b9dd7bcd0d9f086967280ca9348a3259fa3f0788dffb396380cec8bd9016b42c20babbb4846221c52a6968ea5de1d92dabd35d06f8108592ec1c7b90b180bd2f7629cd8789063509a21a9d4af38a2882759fe20568d9a6c2ae7769560a0bb16d71b52b0e74a7e9e2fb1e370840e9c675e3de574d9ae3f6a9b55d8719d7f52b5616d67a2fae2199532c20e5df90f9031cd797e8986d364e2f18eb7c7ab081202340e0730b56db3b5ca99e29a1c76beb67c52f3f278b89bff6e082af073c0cccf01cb64c3bda870f30fba3a8120c7c68dff408cae52c5e5f6367eb9c43a10435fbe78072acc76f75671243975b71c58514a253551cf726266ac7af46b95b2752af0c6e0bede341eb5c1f7832d29fd0f79adfd26f7687f8643d68e589bc576557f8afd3c174446537262091ed1e3887978ab449dcc4dcb3d2886b8119560e6284cdb5685d79c8c5c65ab40bbd9938192f25359f609505eb654f92f5b971fa399e358243b451821377b8081d8d91972d9477d426a28005765abe3d21fb146ea62f4e03198d7feec70678fbddda84c6960f266a940dc5ca14bb79fa087e3496ac0b2039f16e170a87acb3fb3ba54eadd8fb9d074d788fd388dbe9e5dd2495cf2e620901ac8267ff50831b6ee93ff6992f31e0c9c08999888762c628c77e32fc32b0768a0a6401d25675384fbff3675e00cd0e2c1cbd1519548eb49a44418ab707251e6297be5e38ae7169c545c20dccad133d7dcb5b40aa71032eb4bf4433f9648f6ec74c161a92cc715d49459cc4cb4871ae9c39506bb4e191a0d78a92457bce617c17547514d17352d7edcbbf7335fb084ab4223017c1113532f9121a5aa344edba5877dac4180d02d9c7b172c31a538a771076611e368a09a56b511b052effc64f2a0857b76e830b6007a4ded2feb2003d4b183f0dc6fa255cd76e67fb1b57ddb41dc3e7d999c70f9c08867e0bc7cdcc9bbd603e43b1e5517d80a3d5841910c5c03d3a96e1ed5046799f9adb4b69e5d8d86c466e3d3d6afff703da92ebc80255182a8d5678a197865c1609482ae22700d4288b17ea024b5398ce4cc19272be8fdff9404d1bca7e37600a7bd4ee092d42f729df52c3abe6f37cc42ac8c1e84525178a709ca0f653ff0c6804ef6a48fb9f49f3c7d5402b858c061a0fb76ed76bdd42e45a45460bb2d1c6b06a39467fb41e57144de1351ac6e9692159d316b980f0f0bce9351e788f86eb56cb1cf85e9ce18f1462bf143cd7c87ef33ce8033e33b70b4668eb06f5586c60648d1008528eadac2edfe772b6c7ec30c4d29cd95fb6f47b294d7156d91497f7fa64a8f64d718f8b57268e6cf829b4224cc9e3d0856bc6593587a3c5bf87a29fcf0bd25a807fdce0a1fc0cf6caf5c388d817fb9ea651df9a177de89f1c62a9f8943969b8ea968201f8429461464b79ea2a260bac4711043df0201a9edfb1988e7e390cb795a1cbae69e6b83bba88d0c08599ba5413f17b49124efeae50e8970952ff3d90ae028896a0061d998f211d6e4dc4df25bc66bd49995ff87ed7bc5cdfad986e2b49283a915c5021c52a0d1791adf20e4b0400c32409604da0619b81f3741740fe7e9ad22e87aa90029fa42bc7ef5b9eadffb7d806f51e2f172470320d043bb4cd9d894de78b2cad0c3f5c3249ad85e6a2a2c74c1ca97cec0b1805610a0c588312b5ddf119d5f6d69d3980e2305ed828d5f8fb2f9c5758b6e940fb2906c878d1faf30e68c6e55807e426ea97cf186ea2a080f42c058d950e13d6bf7fce5caf1c57ab1e451cba220f115864f6389cead9764e8a29e921bf6c08c3b02b70ce90982fa227dadcf4cdbcedf314e4ba395b8771136309a9783ac4cd1c85a613b87c71d88c835fa1eef171814cfd78a61493e493a3eb09794be285bc77cd5cc5f267206faa1267a1434b3c9e8735444013cc9b74d92b67d7ab2786479682af09ec55160f4cc25f407053e1e9d40f358f95f37e7153c813553f60ae66d83ce90f17e71182a446021bed6c2f64ddb2e92f7add008f71cc4ce2edf4e22309f84a33967fc760ea4b7c2768e2612d9cd6909473ab3fd066689feabfae9f7d4307072ebc2df54e766d6dad5f80be11bfac4376a73f4501b5176307116e3ee923798cb016eda4a77a1ce335330b19090e32d2c81d60a3c745323c0478939ce7d42d6e9242cd1dfd0421ec9eb8a8ed746fe940888ece1e766d00b3b6f5ed502e6fb956cdba82b2a07add109453cea6d48638b6f1d2e03086d2f481cfa697a8fa6e974fea55bc734b6509333b60240b862c26e100f073a3092f967074f36131b5323bedaad30b5a417c2805f5037333814587ee29c8ba21c92ef61c2b7ce18aea0a4318a0363fa70e2710cbbf4d658d8a1b1d7c44f9c9bf583b719c5df57edcbe2b9204a4dce2bee7a638d3b122fdac42f64ae92edf2fea774e0d77bf8875f1c92ece54b8304485eb460f251eb96a784373d50c86aea759622e19cdc1adbda890502b72532abb7b14aeb29504218cf87ca9dbca388c127d288f6cf514e117b18d18decd5c6e2ac8107e9027589867840ecb4958e72884b4fe59feee8d3ab064fbec65b5393c46598266877df40ef1e933d3d2583f6e0382d5b8d458060109cb0a9fbd534475c0c400a6f89ae337b962789abefa70cdf06ca2227d60a45761b5f20629c948a83e1577505f15144c5b89e4ad81da647490b1846ad30e751c696c16e30735668e0ee4cd2f0eeee804b442218c88e7975e193f81f434820caf1eccabd7abc62f84124b6c6ef740fd275039287bf80fd4d33f498d234e1e6092dda30d4ceff8f57998aa5d634dbb02084e19a462f9ee557b2f68026b53d4f2c85b8eb6f85b99e97db80a66ac39104ad58494e0281d0d0af1b41f844c301a1c88ef09af65cedd353537fa32ab310f21898676c00c0b49301ddc862878a6c9c69278d8c5679da015a813e4864217281bab5a6b81f030fa90977ee4a8a3a4a29824f5ebc2d53f97d4ac0b800bb55a61f04988d77426db7f560460054d3eb92d8948ac5b4f3ddadad985e5aabc2b84cb41a2002284578c3d0927cec1b7e3c9afc9a5b8e1d2e5f746686eb7dc98b1cfd997fa0dbc457c050827b1cb1dc12cac93c0c719bfb0bbbc429cb83ac3343d28add97a8cc4a82d93b30ff9b4133946ce3520adcda412de093496ec0d407f7718be0ba6d079e6ceb36a15e69efe24e0f97aa6c4e50b53a2671cdf907245cb42a993f78fa5a0c55833c5766f70fd82d8e30058d75d23af7623dbaaf9498717dcfed06d114edae9b0bbbde8bf901cf24c9e3fd706ca4af77be93f9febf39931ae438a8667c3964eef6b02dc11fccfd4612b0b54ba5cb25ae9f070d26d5840083401472369460de83f7162666ec21eeac2db4b1e9d9c8c5672c36afd419586cd33b20a2dd9214bd690a11edb93e1f427d8e360efd84de3246fc595871578442d17862b0da94e37fc889bc515a592d7e71376aaa8cf856d9c0c67d29984c15375cf65fcd9ccae5c48fd3fbf9b9f92f1db142759ae9bbc892e680895a9c0f15753fbc59b891eae2913505c7b764d410fae616aa348025d9e4c204080f4d4068dcd76563ff5a7053d8d9a6f871a21ac3d9c5b2ca4ef12b46610613fd778ea6045aefb6d6d6156e5db9652c9c97f42af48e064c3b747d7c00efc5c6d5150fbc952cb718fb9b778cee5e1db92a38946fb0cf387624be984e3f8908c0ef344fb59c005a78c46c6d8e0e1858a794aca8c868d5eb7c888a8feeee8d191b70326bd9e4005784283bbd2f87db65889b8981db4d7eb67c487db24f3503383927dcfee541fcbaa6d28aa756bebdd60dbeaf5287ea6459b3aff695eb8da1602022d15a05f72a0fce3192b3923bdfb4474bb8e90f63e31bec8144c8ace659f80768d6fdd5ec2114bef8f5daf6d5bf6074b02cff62e9d85f43131faca147d9d81e56ef71ef3c29c98db7e3dbd95cabdec4f3d97146ddd5b9bccec77981464b51d6b5967ed80a53935a6a58db798013eb663b7a4b0a512f46eee897ccea1d2d9ddb17cb0c16c542f155be3099a9391352886bb5810f612b67d690ab047767af6c5d248aa8eb70f119e0433db71d73d68d9749a156c30f5596fc225cdbf73c140a4c7db573bd97c7f7f17718d5345219536e75ef810a6b39a0f4675664607a67f4d17735d755932c1cf58c26b62a846e13746361eaf2bd9efd14bc424106bb9835a36a0ac7216be99b2037ae31e1a28348cb154958f581f74b7b1a5f8bb62fe77db659fcabb7f271d14385f06d87e13f78a3607f075d63e3156cb4d3c66c52459126b240912c25a6c7aecdd2316051a114c1d5e1c8347291b7d712a8fc20dfe2bb426d93aeeeed0e468ee08bedf91fdc3a35e28cbccb1f2f1a367cfa05ee5bad0049281568e2628978d550a8f7b63f34bc56d42aeb1b84010168b7f5a091d476e2e0a9bb5613f5ae3b1b4459bd547e988f198e45be9f9d8a8303d13ed7350494e6ba5b5476621a3728aec9af4e857780f4cba50c2f94ad269d1cc80e9b749658dba5b1a5d09ce6a185e42a0d585d810f525d111f409ccef960b4b4ff205c9f67b356e99620cca189ef68fdacd9d644e11845008671e683e9903d0fedd59b2c34b8a75fb251b0bc7e10be71c18c2a8e12f59229c8e94b7cf738d23fd4109465a94e453512b44c458a0c4c224ce67a6394d304be93ed2e153dae7e94435b7e8c7ebeac52140a39e1ecd7c8971f0b7cde039d182269704897b46a44fc4115955357232ed8fa3ad56f2d1d7973714080c37e4fcffa24ed04ba5800d669d1c0041a6c99f7c9bc4d134493fc2ad1ae4f98f1b58110b7a2bf0583b0859a4ec2c63bdb034afc645e9d7845e5a14a8bfefda9b4f18daf4b14f2b0d84f1cea2e234a492cc0c7fca575638a8b27a03bbe5a8ecc686817e9188e175e810c10435852f9ee337160f503fa491cc2f48f4f700d53ce1050393352fc17d3f9a5e8ec93dc5383a424f1d00a07371df40633ce49a2992538115113f15f207846a7cb3744d4bd5dd5d806aae944eee46df6f43578a650c9a869c3565ef6c0808b8b04e71dafd19f6c752796c9cf7531115a62c97cab758e11a67708f6b3ee3a2daee6a9c95cb2365ab3d86ea22fcbc089a41e1303797016e4b84f11d84ab4ba0e8de0ab173c5db858cfa8cf817bea97932b8f70f256be53457afc6a6b7b81ee65c1963038012aa044a8df3c649a37f1c87ef5c0115434ff446924d405228590c50fdffd84591a8ea56a4dfbb028668f5bc0bbf619d010ce4ea32e3850ea92465a7be24737ce1fd30f7b6794878abd69e7f42b01dca3e837dc74e78ad175c2d0cc4cdccb4c874ae51180d2110848d3f1a0a71d2d2c21a5fa02f21050d6b7e45a5d34137d3f2c7cd34a68086d63c95e440ea07b66cba2587593300ca8c26603bddf39a069318254575b00b86955c16b3cbad734ecc514efa9658dd125d3729d254bfd54ef979f1d59fef67640bafcd2f8935b8aed7259022e2b7db99cd0ab7ab9e5100f3e18173476ab5afe55d44e199f963a36c6c7fe5d8fece822ee064cb437f9db96570194f15eefdd321de9bdbcfe483ce6b0def413544ad223440b7679ec31d071fc243ad4674c3bf0cc5e0df222ea26c3908a1074c0403ca093886b0431e950a1f5d0165c7ed08e31410579abfe47de19bea01e015eddae789c61f3fc0606789f4e71914d3123aac551afb76e8be2c3e0bba2273a2fc153d7abde2f255a66a680acefafab9a3e470fc0727bd5944154c3316cce2f605b40775048aa3b0feebb5ba2df2147f6e249f43104801a09139f6f8b601df6d1bbbfad5a2dcc1539e4133a3135c5baa7322181ad51fdc827ce50546e95973cbdc274ba3e06d142773b2edb3b8b57bc9853fe5a18fcb2d5ad4ef78b5843702c4178354cb6c3d3da010a4ef552cd03ec989875276a1d6148378be29a8591c4ed2bcf7e6403dc371a5f223fdd1d5e6efb56d4cdcc32d82d82874ff08c2c1aa05b16f207a9a8e3bedcaa11575287d07a1032106b2bd79d12625f60a213a1cf1058e2d7f78c91ec43ad72662aabd80ac868cc34ddaec68b4047abd9f0dcf4d9a855cce56eb0b6d0da2ff652ab119616704acc7475857e278b1b4083dc3ee0de35126a986b8a2c90b515404e6702a81edaa7efce014b253f26b338efcb5af3e210e02eb1818ce949cdaaf0b806bbc9af80c2bd009ad108b1393051de0e9b3b0102c6b44eee71500783fa01d0314bb5b1212fdef424ac39cc90b17d8028c400022cf3d988b6769acd91d732b4db6874ba8ebcf3be423d4d285fbda82a0fa3768d6809e440c016f570436a17637ab05bd810e560a807eecd316589a086a0d7e829841fcdf7cc8794f7d5e17c6deca4de5784bc3570b786dffef3b9e0891c1a57caf42d88e7f1a45b4b5e33073429197dc4ed15c57879d06c7849bdcd55c0c0198eb3f4fe85da39ef0509fae6a147d94668ddecb9ebe9af41c0689d7da1f2647a4f2cf6b0bbe2e38c1e8dd7fb20cc69dbb73c45257c58f63b17eaaf81b72c28cfc169339c1c158754098fd231c56f5d16896e2ba4effd46fd920f0e71f2c40226421a9e25437069b7330e682adfe6024bd86c3a70b396634beea18ce6876e585bb93cc8ca1faed9ced59848f54e740679232ed3f80309dd3a90fed59599b624d7a65c5f60493b29d605068366ace9adeea6c9443425604e9427b9e3cbe469341e7959bd632adc8e8bb35473126d028a46cb8c2a8ffeef1170d48f9dcb6d615fd5001a305cf6e568f9c35621249b4838a008d1b8a35c4774fb82e3b5a3e2e566cd507b70a90fe15aad3b42467b3c528dc2e85536cb7ab48f3bca912ce25b4469beb43724be4c57d4e715ca2bb6fed4a82b0c6d0ddc2fafb3f9dbceb0a4304edcb89951b82df60e8078fa78f71023b47602a337f1c34412cad0bdd184caacee58709e40e8a45796f6737d84dbfc3d5ce7563202830071070f15f5aa56d9e8c99fa9722dc1eecf40210927060dd58a0d23a1cb46489d763a5fb8b7f2f6886281bd8bd6fced635ae1b65b15d46d63c08a727528f5e1a1fb63b4f7188198217126419c69b8978a8e8246afbec3d51dae178158af52626205aa2eabbbb226c53d3d963d28496aa23c3df32846820798a9a4b9363df1cdfe51115f469d8a4b148951766330507894f00a2fd14f69f08634ee4f5b5462b14eb7a45e7758cade0be0e862f87b16a53804e5ae8ef6e9d8eba26d64e381fb22fa036bbea2c96de28856170ea35108fa9e645848186bd4a0f2b5c3ead066ec0619450afa3f2b20476e73ed865edc99a7073e5612cce94f9b476bb0c5db8dc1a2186179e613edfa9c0a59b7ee3826a8879998d3459e824ff0671cd88c324803b345d4bc378c529081e4a24d9212efc75f9f8fe16e9600be882447422066667b3e4c6b911314746bea7fb77a823275f6abcfd904737e6f81ea576056642459</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">Hey, password is required here.</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
    
    
    <categories>
      
      <category>周报</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>图像放大缩小原理</title>
    <link href="/2022/02/22/%E5%9B%BE%E5%83%8F%E6%94%BE%E5%A4%A7%E7%BC%A9%E5%B0%8F%E5%8E%9F%E7%90%86/"/>
    <url>/2022/02/22/%E5%9B%BE%E5%83%8F%E6%94%BE%E5%A4%A7%E7%BC%A9%E5%B0%8F%E5%8E%9F%E7%90%86/</url>
    
    <content type="html"><![CDATA[<h3 id="图像放大"><a href="#图像放大" class="headerlink" title="图像放大"></a>图像放大</h3><p>放大图像的关键是增加像素。</p><p>图像放大后原像素点的相对位置关系应该是不变的，所以对于小图中的每一个点，只需要将他们的坐标乘以对应的放大倍数（横纵），就可以得到小图中的点在放大后图像中的坐标。此时图像中存在大量未被填充的区域，所以需要通过一定的算法将这些区域填充完毕。</p><p>例如将一幅图片放大3*3倍，未被填充的区域先用黑色代替。</p><figure class="highlight python"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></div></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> cv2<br><span class="hljs-keyword">import</span> numpy<br><br>img_address = <span class="hljs-string">&#x27;C:/Users/kyle/Desktop/lena.png&#x27;</span><br>img = cv2.imread(img_address)<br><br>height = img.shape[<span class="hljs-number">0</span>]<br>width = img.shape[<span class="hljs-number">1</span>]<br>x_rate = <span class="hljs-number">6</span><br>y_rate = <span class="hljs-number">6</span><br>bigger_pic = numpy.zeros([height*y_rate, width*x_rate, <span class="hljs-number">3</span>], numpy.uint8)<br><br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(height):<br>    <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(width):<br>        bigger_pic[i*y_rate][j*x_rate] = img[i][j]<br>        <br>cv2.imwrite(<span class="hljs-string">&#x27;C:/Users/kyle/Desktop/lena1.png&#x27;</span>, bigger_pic)<br></code></pre></td></tr></table></figure><p>原图：</p><p><img src="/2022/02/22/%E5%9B%BE%E5%83%8F%E6%94%BE%E5%A4%A7%E7%BC%A9%E5%B0%8F%E5%8E%9F%E7%90%86/test.png" alt="test"></p><p>结果：</p><p><img src="/2022/02/22/%E5%9B%BE%E5%83%8F%E6%94%BE%E5%A4%A7%E7%BC%A9%E5%B0%8F%E5%8E%9F%E7%90%86/test1.png" alt="test1"></p><h4 id="最邻近点插值法"><a href="#最邻近点插值法" class="headerlink" title="最邻近点插值法"></a>最邻近点插值法</h4><p>​        在未填充的区域，计算离该点最近的已填充像素点，然后使用它的颜色信息给该点赋值。</p><figure class="highlight prolog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs prolog"># 最邻近点插值法<br>def <span class="hljs-symbol">Nearest_Neighbor</span>(former_img, rate_y, rate_x):<br>    for i in range(former_img.shape[<span class="hljs-number">0</span>]):<br>        for j in range(former_img.shape[<span class="hljs-number">1</span>]):<br>            if i//rate_y == <span class="hljs-number">0</span> and j//x_rate == <span class="hljs-number">0</span>: # 已赋值的点<br>                continue # 跳过<br>            if i <span class="hljs-comment">% rate_y &gt; rate_y/2:</span><br>                y_index = i + rate_y - i <span class="hljs-comment">% rate_y</span><br>            else:<br>                y_index = i - i <span class="hljs-comment">% rate_y</span><br>            if j <span class="hljs-comment">% rate_x &gt; rate_x/2:</span><br>                x_index = j + rate_x - j <span class="hljs-comment">% rate_x</span><br>            else:<br>                x_index = j - j <span class="hljs-comment">% rate_x</span><br>            if y_index &gt;= former_img.shape[<span class="hljs-number">0</span>]:<br>                y_index -= rate_y<br>            if x_index &gt;= former_img.shape[<span class="hljs-number">1</span>]:<br>                x_index -= rate_x<br>            former_img[i][j] = former_img[y_index][x_index]<br></code></pre></td></tr></table></figure><p>结果：</p><p><img src="/2022/02/22/%E5%9B%BE%E5%83%8F%E6%94%BE%E5%A4%A7%E7%BC%A9%E5%B0%8F%E5%8E%9F%E7%90%86/test2.png" alt="test2"></p><p>这种算法虽然运行速度较快，但是当放大倍数增大时，很容易出现类似“马赛克”的效果，整体比较僵硬。</p><h4 id="双线性差值法"><a href="#双线性差值法" class="headerlink" title="双线性差值法"></a>双线性差值法</h4><p>​    最邻近点插值法的问题在于用于不够自然，一个人颜色到另一个颜色的变化来的太突然了，所以如果可以将填充部分的过度更加自然，那么放大的效果就会比较好。</p><p>​    因此对于点的赋值不仅仅只和一个点有关，而与附近的点都有关。对于一个待填充点，考察将它包围的四个已填充点的像素值，离得越近的点，相关程度越大。最后按权相加。</p><p>​    </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">Bilinear_Interpolation</span>(<span class="hljs-params">former_img, rate_y, rate_x</span>):</span><br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(former_img.shape[<span class="hljs-number">0</span>]):<br>        <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(former_img.shape[<span class="hljs-number">1</span>]):<br>            <span class="hljs-keyword">if</span> i//rate_y == <span class="hljs-number">0</span> <span class="hljs-keyword">and</span> j//x_rate == <span class="hljs-number">0</span>:  <span class="hljs-comment"># 已赋值的点</span><br>                <span class="hljs-keyword">continue</span>  <span class="hljs-comment"># 跳过</span><br>            <span class="hljs-comment"># 左上角包围点的坐标</span><br>            y = i - i % rate_y<br>            x = j - j % rate_x<br>            <span class="hljs-comment"># print(y,x)</span><br><br>            <span class="hljs-comment"># 先考虑边界情况,在已经赋值的点中，最大纵坐标为former_img.shape[0]-rate_y-1,最大横坐标为former_img.shape[1]-rate_x-1</span><br>            <span class="hljs-keyword">if</span> y + rate_y &gt;= former_img.shape[<span class="hljs-number">0</span>]-rate_y:  <span class="hljs-comment"># 只有上方两个点</span><br>                <span class="hljs-keyword">if</span> x + rate_x &gt;= former_img.shape[<span class="hljs-number">1</span>]-rate_x:  <span class="hljs-comment">#是最右下角一小块，直接用左上角点赋值</span><br>                    former_img[i][j] = former_img[y][x]<br>                <span class="hljs-keyword">else</span>:  <span class="hljs-comment"># 根据和两个点横坐标距离比例计算比例,与左上角点横坐标距离为（j%rate_x）,与右上角点横坐标距离为rate_x - j % rate_x</span><br>                    former_img[i][j] = (rate_x - j % rate_x)/rate_x * former_img[y][x] + \<br>                                        j % rate_x/rate_x * former_img[y][x+rate_x]<br>            <span class="hljs-keyword">elif</span> x + rate_x &gt;= former_img.shape[<span class="hljs-number">1</span>]-rate_x:<br>                former_img[i][j] = (rate_y - i % rate_y)/rate_y * former_img[y][x] + \<br>                                    i % rate_y/rate_y * former_img[y + rate_y][x]<br><br>            <span class="hljs-keyword">else</span>:  <span class="hljs-comment"># 正常情况,将四个点分成上下两对，先分别计算出横向的比例结果，在计算纵向的比例结果。</span><br>                tmp1 = (rate_x - j % rate_x)/rate_x * former_img[y][x] + j % rate_x/rate_x * former_img[y][x+rate_x]<br>                tmp2 = (rate_x - j % rate_x)/rate_x * former_img[y+rate_y][x] + j % rate_x/rate_x * former_img[y+rate_y][x+rate_x]<br>                former_img[i][j] = tmp1 * (rate_y - i % rate_y)/rate_y + tmp2 * (i%rate_y)/rate_y<br></code></pre></td></tr></table></figure><p>结果：</p><p><img src="/2022/02/22/%E5%9B%BE%E5%83%8F%E6%94%BE%E5%A4%A7%E7%BC%A9%E5%B0%8F%E5%8E%9F%E7%90%86/test20.png" alt="test20"></p><p>整体看上去比最临近插值法好很多。</p><h3 id="双立方插值法"><a href="#双立方插值法" class="headerlink" title="双立方插值法"></a>双立方插值法</h3><p>与双线性插值法类似，双立方插值法运用周围的16个点来进行权值计算，效果更优，代码略。</p><h3 id="图像缩小"><a href="#图像缩小" class="headerlink" title="图像缩小"></a>图像缩小</h3><p>​    与放大图像相反，图像缩小时需要舍弃很多像素，相比于放大简单，但肯定会造成失真。</p><p>​    一种最简单的方法就是根据缩小的比例在一个区域中任取一个点。这种方法简单又快速，但是考虑到图像中可能会存在噪声点，因此这种方法得到的缩小图像可能也会有噪声点。</p><p>​    第二个方法就是取一个区域中的平均值，这样可以大幅减小图像中噪声点的影响，相比于第一种方式得到的结果也会更加平滑。</p>]]></content>
    
    
    <categories>
      
      <category>graphic</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>搜索引擎，爬虫</title>
    <link href="/2022/02/21/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E/"/>
    <url>/2022/02/21/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E/</url>
    
    <content type="html"><![CDATA[<h3 id="搜索引擎"><a href="#搜索引擎" class="headerlink" title="搜索引擎"></a>搜索引擎</h3><p>搜索引擎的基本原理是布尔代数。</p><p>首先建立一张索引表，根据用户输入的关键字返回每个网页是否存在该关键字（TRUE（1） or FALSE（0）），若有多个关键字，则对返回的结果串（二进制）进行布尔运算（与，或，非），最后返回所有返回条件的索引值，然后根据索引值返回对应网页。因为计算机处理二进制数据的速度很快，这也是搜索引擎能在短时间内返回搜索结果的原因。</p><p>随着网页信息十分庞大，关键字数量也很大，因此一张索引表的储存空间也是巨大的。所以索引表一般会通过分布式存储的方式储存到多个服务器上。</p><h3 id="网络爬虫"><a href="#网络爬虫" class="headerlink" title="网络爬虫"></a>网络爬虫</h3><p>搜索引擎不仅需要返回符合要求的网页，还需要尽可能返回用户想要的网页。这就是网页排名问题。</p><p>搜索引擎需要优先返回价值高的网页，这需要网络爬虫来完成。</p><p>网络爬虫的思想是：访问一个网页时，同时访问该网页上的超链接，然后不断重复。这便是数学中<strong>图论</strong>的思想，将每个网页看成一个顶点，每条超链接看做一条边，然后进行搜索。网络爬虫同时运用了深度优先搜索和广度优先搜索。</p><h5 id="Google-的-PageRank-算法"><a href="#Google-的-PageRank-算法" class="headerlink" title="Google 的 PageRank 算法"></a>Google 的 PageRank 算法</h5><p>​    若有多个网页中都有该网页的超链接，则表明该网页的价值大。而且一个网站的价值越大，则它的超链接网站的含金量就越大。所以<strong>一个网站的价值等于所有存在该网站超链接的网站的权重之和</strong>。计算时首先使得所有网站权重相同，经过一轮运算后，使用第一次运算的结果计算权重进行第二次运算，这样得到的结果就比较合理了。</p>]]></content>
    
    
    <categories>
      
      <category>数学原理的应用</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>“马尔可夫模型”</title>
    <link href="/2022/02/21/%E9%A9%AC%E5%B0%94%E5%8F%AF%E5%A4%AB%E6%A8%A1%E5%9E%8B/"/>
    <url>/2022/02/21/%E9%A9%AC%E5%B0%94%E5%8F%AF%E5%A4%AB%E6%A8%A1%E5%9E%8B/</url>
    
    <content type="html"><![CDATA[<p>马尔可夫模型基于概率的思想，主要用于“预测”。</p><p>马尔可夫模型在语音识别领域有很大的应用。自然语言属于上下文有关语言，相同的语音输入可能输出多种文本结果，所以后文的识别依赖于前文内容。 该模型需要使用大量的数据进行训练（大量网页中的文字资源），计算出一个词在另一个词（或若干个词）后面的概率。由于语音识别对于一个词可能会有多个可能选项，根据该模型比较各个词出现的概率，以此提高识别的准确性。</p><p>后面词语出现的概率其实是和前面很多词有关，然而多增加一个词的维度，运算量都会指数式地增长，所以当前一般都在3个词以内。</p><p>马尔可夫模型还可用于天气的预测。以一个地区之前一段时间的天气数据为基础，计算出由一个时间段（例如几个小时）天气由晴——晴，晴——多云，晴——阴，晴——下雨，多云——晴……的概率，就可以大致估计下一时段的天气状况了。</p>]]></content>
    
    
    <categories>
      
      <category>数学原理的应用</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>Dia</title>
    <link href="/2022/02/05/Dia/"/>
    <url>/2022/02/05/Dia/</url>
    
    <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <script id="hbeData" type="hbeData" data-hmacdigest="2c433a6939fb35b2b2a990eaeacf24c19168f047a6ed6fabb180280731d995bd">82214728cd5831a318199fe07afbdc9c60863f4756807c031b5f4a64adb0438c67d944f96dacea3852641aa1d9c333ba818bb26d006a843628ea49bc47f060b50e1761d42e15edc966f042672c71cdd13c4bc70d0a3469281c29731f06b3883a048fbfd6521d260aa89b39581465573f203785148a642514cff60e7de840e59e43b5751e2b29f60f86923ff7511f32516a14396bd8b29f77d6278d62df7c4684a151eb33a1bb1862b02a6925aa791cf9fca5233e91777ed8bafa3705eb7ac3d4526331228500dcb656f3b8913a6d99ed3f8928c7767790352279be17c31f0089ebd2854c9d4cbacb060149d0bc492dfab7a48b888380a65ff1a652f37e51210b7d7acb0476ed52efbbfad98a7a885e9a06eb33cbbb693bfc098f48aaf6467fcc724ec00767ef1062f8df3e0386a009a8</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">Hey, password is required here.</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
    
    
    <categories>
      
      <category>Dia</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>滤镜</title>
    <link href="/2022/02/02/%E6%BB%A4%E9%95%9C/"/>
    <url>/2022/02/02/%E6%BB%A4%E9%95%9C/</url>
    
    <content type="html"><![CDATA[<h3 id="灰度滤镜"><a href="#灰度滤镜" class="headerlink" title="灰度滤镜"></a>灰度滤镜</h3><h6 id="三个通道的数值设置为相同"><a href="#三个通道的数值设置为相同" class="headerlink" title="三个通道的数值设置为相同"></a>三个通道的数值设置为相同</h6><p>原图：</p><p><img src="/2022/02/02/%E6%BB%A4%E9%95%9C/default.jpg" alt="default"></p><figure class="highlight prolog"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></div></td><td class="code"><pre><code class="hljs prolog">import cv2<br>import numpy<br><br>img = cv2.imread(<span class="hljs-string">&quot;C:/Users/kyle/Desktop/default.jpg&quot;</span>)<br>height = img.shape[<span class="hljs-number">0</span>]<br>width = img.shape[<span class="hljs-number">1</span>]<br>for i in range(height):<br>    for j in range(width):<br>        img[i][j] = (img[i][j][<span class="hljs-number">0</span>], img[i][j][<span class="hljs-number">0</span>], img[i][j][<span class="hljs-number">0</span>])<br>#将三个通道的值都设置为第一个通道的数值<br>cv2.namedWindow(<span class="hljs-string">&quot;image&quot;</span>, <span class="hljs-number">0</span>)<br>cv2.imshow(<span class="hljs-string">&quot;image&quot;</span>, img)<br>cv2.waitKey(<span class="hljs-number">0</span>)<br></code></pre></td></tr></table></figure><p>结果：<img src="/2022/02/02/%E6%BB%A4%E9%95%9C/b1.png" alt="b1"></p><h6 id="将三个通道变成一个通道"><a href="#将三个通道变成一个通道" class="headerlink" title="将三个通道变成一个通道"></a>将三个通道变成一个通道</h6><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">import</span> cv<span class="hljs-number">2</span><br><span class="hljs-attribute">import</span> numpy<br><br><span class="hljs-attribute">img</span> = cv<span class="hljs-number">2</span>.imread(<span class="hljs-string">&quot;C:/Users/kyle/Desktop/lena.jpg&quot;</span>)<br><span class="hljs-attribute">height</span> = img.shape[<span class="hljs-number">0</span>]<br><span class="hljs-attribute">width</span> = img.shape[<span class="hljs-number">1</span>]<br><span class="hljs-attribute">img1</span> = numpy.zeros([height, width, <span class="hljs-number">1</span>], numpy.uint<span class="hljs-number">8</span>)<br><span class="hljs-attribute">for</span> i in range(height):<br>    <span class="hljs-attribute">for</span> j in range(width):<br>        <span class="hljs-attribute">img1</span>[i][j] = img[i][j][<span class="hljs-number">0</span>]*<span class="hljs-number">0</span>.<span class="hljs-number">11</span> + img[i][j][<span class="hljs-number">1</span>]*<span class="hljs-number">0</span>.<span class="hljs-number">59</span> +img[i][j][<span class="hljs-number">2</span>]*<span class="hljs-number">0</span>.<span class="hljs-number">3</span><br><span class="hljs-comment"># 转换公式：B通道*0.11 + G通道*0.59 + R通道*0.3</span><br><span class="hljs-attribute">cv2</span>.imwrite(<span class="hljs-string">&quot;C:/Users/kyle/Desktop/lena_grey.jpg&quot;</span>, img<span class="hljs-number">1</span>)<br></code></pre></td></tr></table></figure><p><img src="/2022/02/02/%E6%BB%A4%E9%95%9C/b2.png" alt="b2"></p><h3 id="黑白滤镜："><a href="#黑白滤镜：" class="headerlink" title="黑白滤镜："></a>黑白滤镜：</h3><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs stylus">import cv2<br>img_gray = cv2<span class="hljs-selector-class">.imread</span>(<span class="hljs-string">&quot;C:/Users/kyle/Desktop/lena.jpg&quot;</span>, cv2.IMREAD_GRAYSCALE)<br>threshold = <span class="hljs-number">120</span><br><span class="hljs-keyword">for</span> <span class="hljs-selector-tag">i</span> <span class="hljs-keyword">in</span> range(img_gray<span class="hljs-selector-class">.shape</span><span class="hljs-selector-attr">[0]</span>):<br>    <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> range(img_gray<span class="hljs-selector-class">.shape</span><span class="hljs-selector-attr">[1]</span>):<br>        <span class="hljs-keyword">if</span> img_gray<span class="hljs-selector-attr">[i]</span><span class="hljs-selector-attr">[j]</span> &gt; threshold:<br>            img_gray<span class="hljs-selector-attr">[i]</span><span class="hljs-selector-attr">[j]</span> = <span class="hljs-number">255</span><br>        <span class="hljs-keyword">else</span>:<br>            img_gray<span class="hljs-selector-attr">[i]</span><span class="hljs-selector-attr">[j]</span> = <span class="hljs-number">0</span><br>cv2<span class="hljs-selector-class">.imwrite</span>(<span class="hljs-string">&quot;C:/Users/kyle/Desktop/lena_black.jpg&quot;</span>, img_gray)<br></code></pre></td></tr></table></figure><img src="/2022/02/02/%E6%BB%A4%E9%95%9C/lena.png" alt="lena" style="zoom:60%;"><img src="/2022/02/02/%E6%BB%A4%E9%95%9C/lena_black.jpg" alt="lena_black" style="zoom:70%;"><h3 id="怀旧滤镜"><a href="#怀旧滤镜" class="headerlink" title="怀旧滤镜"></a>怀旧滤镜</h3><p>怀旧滤镜的效果为使图片有一种发黄的效果，而黄色的（r, g, b）为（255,255,0），所以修改的大致方向为增大R与G通道的比重，减少B通道的比重。前人的实验总结出了一下公式，但是可以发现权重相加大于1，所以如果大于255要改为255。</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">import</span> cv<span class="hljs-number">2</span><br><span class="hljs-attribute">import</span> numpy<br><span class="hljs-attribute">img</span> = cv<span class="hljs-number">2</span>.imread(<span class="hljs-string">&quot;C:/Users/kyle/Desktop/lena.png&quot;</span>)<br><span class="hljs-attribute">height</span> = img.shape[<span class="hljs-number">0</span>]<br><span class="hljs-attribute">width</span> = img.shape[<span class="hljs-number">1</span>]<br><span class="hljs-attribute">for</span> i in range(height):<br>    <span class="hljs-attribute">for</span> j in range(width):<br>        <span class="hljs-comment"># B = (272 * r + 534 * g + 131 * b) / 1000;</span><br>        <span class="hljs-comment"># G = (349 * r + 686 * g + 168 * b) / 1000;</span><br>        <span class="hljs-comment"># R = (393 * r + 769 * g + 189 * b) / 1000;</span><br>        <span class="hljs-attribute">R</span> = min(<span class="hljs-number">255</span>, <span class="hljs-number">0</span>.<span class="hljs-number">393</span> * img[i][j][<span class="hljs-number">2</span>] + <span class="hljs-number">0</span>.<span class="hljs-number">769</span> * img[i][j][<span class="hljs-number">1</span>] + <span class="hljs-number">0</span>.<span class="hljs-number">189</span> * img[i][j][<span class="hljs-number">0</span>])<br>        <span class="hljs-attribute">G</span> = min(<span class="hljs-number">255</span>, <span class="hljs-number">0</span>.<span class="hljs-number">349</span> * img[i][j][<span class="hljs-number">2</span>] + <span class="hljs-number">0</span>.<span class="hljs-number">686</span> * img[i][j][<span class="hljs-number">1</span>] + <span class="hljs-number">0</span>.<span class="hljs-number">168</span> * img[i][j][<span class="hljs-number">0</span>])<br>        <span class="hljs-attribute">B</span> = min(<span class="hljs-number">255</span>, <span class="hljs-number">0</span>.<span class="hljs-number">272</span> * img[i][j][<span class="hljs-number">2</span>] + <span class="hljs-number">0</span>.<span class="hljs-number">534</span> * img[i][j][<span class="hljs-number">1</span>] + <span class="hljs-number">0</span>.<span class="hljs-number">131</span> * img[i][j][<span class="hljs-number">0</span>])<br>        <span class="hljs-attribute">img</span>[i][j] = (B, G, R)<br><br><span class="hljs-attribute">cv2</span>.namedWindow(<span class="hljs-string">&quot;image&quot;</span>, <span class="hljs-number">0</span>)<br><span class="hljs-attribute">cv2</span>.imshow(<span class="hljs-string">&quot;image&quot;</span>, img)<br><span class="hljs-attribute">cv2</span>.waitKey(<span class="hljs-number">0</span>)<br></code></pre></td></tr></table></figure><p>原图：</p><img src="/2022/02/02/%E6%BB%A4%E9%95%9C/lena.png" alt="lena" style="zoom:60%;"><p>怀旧效果：</p><img src="/2022/02/02/%E6%BB%A4%E9%95%9C/lena_hj.jpg" alt="lena_hj" style="zoom:70%;"><h3 id="光照滤镜"><a href="#光照滤镜" class="headerlink" title="光照滤镜"></a>光照滤镜</h3><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">import</span> cv<span class="hljs-number">2</span><br><span class="hljs-attribute">import</span> math<br><br><span class="hljs-attribute">import</span> numpy<br><br><span class="hljs-attribute">img_address</span> = <span class="hljs-string">&quot;C:/Users/kyle/Desktop/sky.jpg&quot;</span><br><span class="hljs-attribute">img</span> = cv<span class="hljs-number">2</span>.imread(img_address)<br><br><span class="hljs-attribute">height</span> = img.shape[<span class="hljs-number">0</span>]<br><span class="hljs-attribute">width</span> = img.shape[<span class="hljs-number">1</span>]<br><br><span class="hljs-attribute">coordinate_x</span> = <span class="hljs-number">0</span>.<span class="hljs-number">3</span><br><span class="hljs-attribute">coordinate_y</span> = <span class="hljs-number">0</span>.<span class="hljs-number">3</span><br><span class="hljs-attribute">strength</span> = <span class="hljs-number">200</span><br><span class="hljs-attribute">radius</span> = <span class="hljs-number">0</span>.<span class="hljs-number">5</span> * width<br><br><span class="hljs-attribute">for</span> i in range(height):<br>    <span class="hljs-attribute">for</span> j in range(width):<br>        <span class="hljs-attribute">distance</span> = math.sqrt((i - coordinate_y*height)**<span class="hljs-number">2</span> + (j - coordinate_x*width)**<span class="hljs-number">2</span>)<br>        <span class="hljs-attribute">if</span> distance &lt; radius:<br>            <span class="hljs-attribute">for</span> t in range(<span class="hljs-number">3</span>):<br>                <span class="hljs-attribute">img</span>[i][j][t] = min(<span class="hljs-number">255</span>, img[i][j][t] + (<span class="hljs-number">1</span> - distance/radius)*strength)<br><br><span class="hljs-attribute">cv2</span>.namedWindow(<span class="hljs-string">&quot;a&quot;</span>, <span class="hljs-number">0</span>)<br><span class="hljs-attribute">cv2</span>.imshow(<span class="hljs-string">&quot;a&quot;</span>, img)<br><span class="hljs-attribute">cv2</span>.waitKey(<span class="hljs-number">0</span>)<br><span class="hljs-attribute">cv2</span>.imwrite(<span class="hljs-string">&quot;C:/Users/kyle/Desktop/sky1.jpg&quot;</span>, img)<br></code></pre></td></tr></table></figure><p><img src="/2022/02/02/%E6%BB%A4%E9%95%9C/sky-1653279362744.jpg" alt="sky"></p><p><img src="/2022/02/02/%E6%BB%A4%E9%95%9C/sky1-1653279370250.jpg" alt="sky1"></p><h3 id="浮雕滤镜"><a href="#浮雕滤镜" class="headerlink" title="浮雕滤镜"></a>浮雕滤镜</h3><p>​    浮雕滤镜的原理为计算领域中像素的差值作为更新像素值的依据，边缘部分差值更大，更新后像素值也越大，所以可以在更新后的图像中凸显出来。</p><p>​    常用的方法为对每个点进行卷积操作，然后加上灰度偏移值128。卷积核的选择是多样的，常用的有：</p><figure class="highlight inform7"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs inform7"><span class="hljs-comment">[<span class="hljs-comment">[-1,0]</span>,<span class="hljs-comment">[0,1]</span>]</span>        # img_new<span class="hljs-comment">[i]</span><span class="hljs-comment">[j]</span> = img<span class="hljs-comment">[i+1]</span><span class="hljs-comment">[j+1]</span> - img<span class="hljs-comment">[i]</span><span class="hljs-comment">[j]</span><br><span class="hljs-comment">[<span class="hljs-comment">[1,0]</span>,<span class="hljs-comment">[0,-1]</span>]</span>        # img_new<span class="hljs-comment">[i]</span><span class="hljs-comment">[j]</span> = img<span class="hljs-comment">[i]</span><span class="hljs-comment">[j]</span> - img<span class="hljs-comment">[i+1]</span><span class="hljs-comment">[j+1]</span><br><span class="hljs-comment">[<span class="hljs-comment">[1,0,0]</span>,<span class="hljs-comment">[0,0,0]</span>,<span class="hljs-comment">[0,0,-1]</span>]</span>  # img_new<span class="hljs-comment">[i]</span><span class="hljs-comment">[j]</span> = img<span class="hljs-comment">[i]</span><span class="hljs-comment">[j]</span> - img<span class="hljs-comment">[i+2]</span><span class="hljs-comment">[j+2]</span><br><span class="hljs-comment">[<span class="hljs-comment">[-1,0,0]</span>,<span class="hljs-comment">[0,0,0]</span>,<span class="hljs-comment">[0,0,1]</span>]</span># img_new<span class="hljs-comment">[i]</span><span class="hljs-comment">[j]</span> = img<span class="hljs-comment">[i+2]</span><span class="hljs-comment">[j+2]</span> - img<span class="hljs-comment">[i]</span><span class="hljs-comment">[j]</span><br><br></code></pre></td></tr></table></figure><p>代码：</p><figure class="highlight haxe"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs haxe"><span class="hljs-keyword">import</span> cv2<br><span class="hljs-keyword">import</span> numpy as np<br><br><span class="hljs-meta"># 灰度形式读入</span><br>img_gray = cv2.imread(<span class="hljs-string">&quot;C:/Users/kyle/Desktop/kobe1.jpg&quot;</span>, cv2.IMREAD_GRAYSCALE)<br>height = img_gray.shape[<span class="hljs-number">0</span>]<br>width = img_gray.shape[<span class="hljs-number">1</span>]<br>img_out = np.zeros([img_gray.shape[<span class="hljs-number">0</span>], img_gray.shape[<span class="hljs-number">1</span>], <span class="hljs-number">1</span>], np.uint8)<br><span class="hljs-meta"># 卷积核</span><br>filter = np.array([[<span class="hljs-number">-1</span>, <span class="hljs-number">0</span>], [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>]])<br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(height<span class="hljs-number">-1</span>):<span class="hljs-type"></span><br>    <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> range(width<span class="hljs-number">-1</span>):<span class="hljs-type"></span><br>        <span class="hljs-keyword">new</span><span class="hljs-type">_value</span> = np.sum(img_gray[i:<span class="hljs-type">i </span>+ <span class="hljs-number">2</span>, j:<span class="hljs-type">j </span>+ <span class="hljs-number">2</span>] * filter) + <span class="hljs-number">128</span>  <span class="hljs-meta"># point multiply</span><br>        <span class="hljs-keyword">if</span> <span class="hljs-keyword">new</span><span class="hljs-type">_value</span> &gt; <span class="hljs-number">255</span>:<span class="hljs-type"></span><br>            <span class="hljs-keyword">new</span><span class="hljs-type">_value</span> = <span class="hljs-number">255</span><br>        elif <span class="hljs-keyword">new</span><span class="hljs-type">_value</span> &lt; <span class="hljs-number">0</span>:<span class="hljs-type"></span><br>            <span class="hljs-keyword">new</span><span class="hljs-type">_value</span> = <span class="hljs-number">0</span><br>        <span class="hljs-keyword">else</span>:<span class="hljs-type"></span><br>            pass<br>        img_out[i, j] = <span class="hljs-keyword">new</span><span class="hljs-type">_value</span><br>cv2.namedWindow(<span class="hljs-string">&quot;image&quot;</span>, <span class="hljs-number">0</span>)<br>cv2.imshow(<span class="hljs-string">&quot;image&quot;</span>, img_out)<br>cv2.waitKey(<span class="hljs-number">0</span>)<br><span class="hljs-meta"># cv2.imwrite(&quot;C:/Users/kyle/Desktop/k.jpg&quot;, img_out)</span><br></code></pre></td></tr></table></figure><p>原图：</p><p><img src="/2022/02/02/%E6%BB%A4%E9%95%9C/kobe1.jpg" alt="kobe1"></p><p>使用[[-1, 0], [0, 1]]作为卷积核的结果：</p><p><img src="/2022/02/02/%E6%BB%A4%E9%95%9C/k.jpg" alt="k"></p><p>使用 [[-1,0,0],[0,0,0],[0,0,1]] 作为卷积核的结果：</p><p><img src="/2022/02/02/%E6%BB%A4%E9%95%9C/k1-1653708256541.jpg" alt="k1"></p><h3 id="流年滤镜"><a href="#流年滤镜" class="headerlink" title="流年滤镜"></a>流年滤镜</h3><p>流年是用来形容如水般流逝的光阴或年华，图像处理中特指将原图像转换为具有时代感或岁月沉淀的特效。原理是将原始图像的蓝色（B）通道的像素值开根号，再乘以一个权重参数，蓝色通道的值减小，会使得图像整体偏向黄色系，产生最终的流年效果。权重系数越小效果越明显。</p><figure class="highlight processing"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs processing"><span class="hljs-keyword">import</span> cv2<br><span class="hljs-keyword">import</span> numpy as np<br><span class="hljs-keyword">import</span> math<br>img = cv2.imread(<span class="hljs-string">&quot;C:/Users/kyle/Desktop/lena.jpg&quot;</span>)<br><span class="hljs-built_in">height</span> = img.<span class="hljs-built_in">shape</span>[<span class="hljs-number">0</span>]<br><span class="hljs-built_in">width</span> = img.<span class="hljs-built_in">shape</span>[<span class="hljs-number">1</span>]<br><br><span class="hljs-keyword">for</span> i in range(<span class="hljs-built_in">height</span>):<br>    <span class="hljs-keyword">for</span> j in range(<span class="hljs-built_in">width</span>):<br>        img[i][j][<span class="hljs-number">0</span>] = <span class="hljs-built_in">min</span>(<span class="hljs-number">255</span>, <span class="hljs-built_in">int</span>(math.<span class="hljs-built_in">sqrt</span>(img[i][j][<span class="hljs-number">0</span>]) * <span class="hljs-number">3</span>))<br><br><br>cv2.namedWindow(<span class="hljs-string">&quot;a&quot;</span>, <span class="hljs-number">0</span>)<br>cv2.imshow(<span class="hljs-string">&quot;a&quot;</span>, img)<br>cv2.waitKey(<span class="hljs-number">0</span>)<br>cv2.imwrite(<span class="hljs-string">&quot;C:/Users/kyle/Desktop/lena_ln.jpg&quot;</span>, img)<br><br></code></pre></td></tr></table></figure><p><img src="/2022/02/02/%E6%BB%A4%E9%95%9C/lena.jpg" alt="lena"></p><p><img src="/2022/02/02/%E6%BB%A4%E9%95%9C/lena_ln.jpg" alt="lena_ln"></p>]]></content>
    
    
    <categories>
      
      <category>graphic</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>基础</title>
    <link href="/2022/02/02/%E5%9F%BA%E7%A1%80/"/>
    <url>/2022/02/02/%E5%9F%BA%E7%A1%80/</url>
    
    <content type="html"><![CDATA[<figure class="highlight elm"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><pre><code class="hljs elm"><span class="hljs-keyword">import</span> cv2<br></code></pre></td></tr></table></figure><h4 id="读取图片"><a href="#读取图片" class="headerlink" title="读取图片"></a>读取图片</h4><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-attr">img</span> = cv2.imread(<span class="hljs-string">&#x27;C:/Users/kyle/Desktop/002.jpg&#x27;</span>)<br></code></pre></td></tr></table></figure><h4 id="显示图片"><a href="#显示图片" class="headerlink" title="显示图片"></a>显示图片</h4><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">cv2</span>.imshow(&#x27;image&#x27;, img) # <span class="hljs-string">&quot;image&quot;</span>为显示图片窗口的名称，img为图片变量<br><span class="hljs-attribute">cv2</span>.waitKey(<span class="hljs-number">0</span>)  #后面的参数如果大于<span class="hljs-number">0</span>也是只显示一瞬间，如果小于等于<span class="hljs-number">0</span>就会一直显示，按一下键盘就结束了。<br></code></pre></td></tr></table></figure><h4 id="读取方式"><a href="#读取方式" class="headerlink" title="读取方式"></a>读取方式</h4><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs stylus"><span class="hljs-selector-id">#cv2</span><span class="hljs-selector-class">.IMREAD_UNCHANGED</span> - 以 原图形式 读入<br><span class="hljs-selector-id">#cv2</span><span class="hljs-selector-class">.IMREAD_GRAYSCALE</span> - 以 灰度形式 读入<br><span class="hljs-selector-tag">img</span> = cv2<span class="hljs-selector-class">.imread</span>(<span class="hljs-string">&#x27;C:/Users/kyle/Desktop/002.jpg&#x27;</span>, cv2.IMREAD_GRAYSCALE)  #必须大写<br></code></pre></td></tr></table></figure><h4 id="图片调整窗口"><a href="#图片调整窗口" class="headerlink" title="图片调整窗口"></a>图片调整窗口</h4><p>如上显示的图片不能变形，若要使图片可以变形，需要加上一个调整窗口：</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs less"><br><span class="hljs-selector-tag">cv2</span><span class="hljs-selector-class">.namedWindow</span>(<span class="hljs-string">&#x27;image&#x27;</span>, <span class="hljs-number">0</span>)  #第二个参数如果是偶数就可以调整大小，是奇数就不能调整大小。<br><span class="hljs-selector-tag">cv2</span><span class="hljs-selector-class">.imshow</span>(<span class="hljs-string">&#x27;image&#x27;</span>, img)#第一个参数与图片的相同<br><span class="hljs-selector-tag">cv2</span><span class="hljs-selector-class">.waitKey</span>(<span class="hljs-number">0</span>)<br></code></pre></td></tr></table></figure><h4 id="图片属性"><a href="#图片属性" class="headerlink" title="图片属性"></a>图片属性</h4><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs routeros"><span class="hljs-builtin-name">print</span>(img.shape)<br><span class="hljs-comment">#（结果） （150,100,3）</span><br><span class="hljs-comment"># 说明该图片纵向大小为150，横向大小为100，通道数为3</span><br></code></pre></td></tr></table></figure><p>左上角点坐标为（0,0）</p><p>若直接修改某个点的像素：</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">img</span>[<span class="hljs-number">1</span>][<span class="hljs-number">2</span>] = (<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>) #<span class="hljs-number">1</span>为纵坐标，<span class="hljs-number">2</span>为横坐标，（<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>）为三个通道的参数，顺序为（B，G，R）<br></code></pre></td></tr></table></figure><h4 id="创建一个图像"><a href="#创建一个图像" class="headerlink" title="创建一个图像"></a>创建一个图像</h4><figure class="highlight vala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs vala"><span class="hljs-meta"># 引入numpy包</span><br>img_1 = numpy.zeros([height, width, <span class="hljs-number">3</span>], numpy.<span class="hljs-keyword">uint8</span>)<br><span class="hljs-meta"># 创建图片变量img_1,高度为height，宽度为width，通道数为3，每个点的像素值为（0,0,0）</span><br></code></pre></td></tr></table></figure><h4 id="保存图像"><a href="#保存图像" class="headerlink" title="保存图像"></a>保存图像</h4><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs 1c">cv2.imwrite(<span class="hljs-string">&quot;D:p.png&quot;</span>,img) <span class="hljs-meta">#路径与变量</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>graphic</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>github建站时遇到的问题</title>
    <link href="/2022/02/02/github%E5%BB%BA%E7%AB%99%E6%97%B6%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98/"/>
    <url>/2022/02/02/github%E5%BB%BA%E7%AB%99%E6%97%B6%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98/</url>
    
    <content type="html"><![CDATA[<h6 id="记录一下利用github建站时遇到的问题。"><a href="#记录一下利用github建站时遇到的问题。" class="headerlink" title="记录一下利用github建站时遇到的问题。"></a>记录一下利用github建站时遇到的问题。</h6><h4 id="建站"><a href="#建站" class="headerlink" title="建站"></a>建站</h4><p><a href="https://zhuanlan.zhihu.com/p/32957389">前面步骤我参考了这篇博客</a>，非常感谢！！</p><p>其中在使用cpm命令时遇到了问题，之后查了一些资料，将cpm都换成cnpm就可以了</p><h4 id="美化"><a href="#美化" class="headerlink" title="美化"></a>美化</h4><p>建站完成之后就可以看到默认的界面，个人觉得比较丑，所以去下载了其他主题。</p><p>在github里可以搜索到很多不错的主题，根据readme.md的指导就可以顺利下载安装。该github仓库一般都有修改配置的说明，一定要仔细阅读。</p><p>我下载了 Fluid 主题</p><p>几个基本的修改：</p><ul><li><p>网站小图标与网页中的背景图直接修改&#x2F;public&#x2F;img中的favicon.png与default.png(注意尺寸大小)</p></li><li><p>网站标题、导航栏文字与打字机显示文字都在 _config.fluid.yml文件中修改。</p><figure class="highlight dts"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></div></td><td class="code"><pre><code class="hljs dts"><span class="hljs-meta"># Site</span><br><span class="hljs-symbol">title:</span> Befine  <span class="hljs-meta"># 网站标题</span><br><br><span class="hljs-meta">#手动添加，修改text</span><br><span class="hljs-symbol">index:</span><br><span class="hljs-symbol">  slogan:</span><br><span class="hljs-symbol">    enable:</span> true<br><span class="hljs-symbol">    text:</span> <span class="hljs-string">&quot;sad&quot;</span><br><span class="hljs-symbol">    </span><br><span class="hljs-symbol">navbar:</span><br><span class="hljs-symbol">  blog_title:</span> <span class="hljs-string">&quot;kyle&quot;</span>  <span class="hljs-meta">#导航栏文字</span><br></code></pre></td></tr></table></figure></li><li><p>js&#x2F;css特效的添加</p><ol><li><p><a href="https://blog.csdn.net/weixin_43471926/article/details/109798811">参考了这篇博客</a>，在_config.fluid.yml文件中添加了：</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs awk">custom_js:<br>  - <span class="hljs-regexp">//</span>cdn.jsdelivr.net<span class="hljs-regexp">/gh/</span>bynotes<span class="hljs-regexp">/texiao/</span>source<span class="hljs-regexp">/js/</span>xiantiao.js <span class="hljs-comment"># 动态黑色线条</span><br>  - <span class="hljs-regexp">//</span>cdn.jsdelivr.net<span class="hljs-regexp">/gh/</span>bynotes<span class="hljs-regexp">/texiao/</span>source<span class="hljs-regexp">/js/</span>love.js <span class="hljs-comment"># 鼠标点击出小爱心❤</span><br></code></pre></td></tr></table></figure></li><li><p>手动添加前端代码：</p><p>在_config.fluid.yml文件中的添加html5代码,我添加了显示网站运行时间与统计访问量的代码：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs xml">custom_html: <br>&#x27;<span class="hljs-tag">&lt;<span class="hljs-name">center</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;runtime_span&quot;</span>, <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;color:#000000&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">center</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span>&gt;</span><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">show_runtime</span>(<span class="hljs-params"></span>)</span>&#123;<span class="hljs-built_in">window</span>.setTimeout(<span class="hljs-string">&quot;show_runtime()&quot;</span>,<span class="hljs-number">1000</span>);X=<span class="hljs-keyword">new</span> </span><br><span class="javascript"><span class="hljs-built_in">Date</span>(<span class="hljs-string">&quot;2/2/2022 00:00:00&quot;</span>);</span><br><span class="javascript">Y=<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>();T=(Y.getTime()-X.getTime());M=<span class="hljs-number">24</span>*<span class="hljs-number">60</span>*<span class="hljs-number">60</span>*<span class="hljs-number">1000</span>;</span><br><span class="javascript">a=T/M;A=<span class="hljs-built_in">Math</span>.floor(a);b=(a-A)*<span class="hljs-number">24</span>;B=<span class="hljs-built_in">Math</span>.floor(b);c=(b-B)*<span class="hljs-number">60</span>;C=<span class="hljs-built_in">Math</span>.floor((b-B)*<span class="hljs-number">60</span>);D=<span class="hljs-built_in">Math</span>.floor((c-C)*<span class="hljs-number">60</span>);</span><br><span class="javascript">runtime_span.innerHTML=<span class="hljs-string">&quot;This site has survived: &quot;</span>+A+<span class="hljs-string">&quot; days&quot;</span>+B+<span class="hljs-string">&quot; hours&quot;</span>+C+<span class="hljs-string">&quot; minuts&quot;</span>+D+<span class="hljs-string">&quot; seconds&quot;</span>&#125;show_runtime();</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br># 运行时间<br><br># 统计访问量，（根据官方文档，还要添加一些代码）<br>  <span class="hljs-tag">&lt;<span class="hljs-name">center</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">async</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;busuanzi_container_site_pv&quot;</span>&gt;</span>has been visited <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;busuanzi_value_site_pv&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span> times<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">center</span>&gt;</span>&#x27;<br></code></pre></td></tr></table></figure></li></ol></li></ul><h4 id="写博客"><a href="#写博客" class="headerlink" title="写博客"></a>写博客</h4><p>可以手动在source文件中添加或者修改.md文件,然后Git Bash 中 hexo g、hexo d就可以了。但是这样会发现网页中无法显示图片，解决方法为：</p><p>1.修改_config.fluid.yml文件，将post_asset_folder: 后面的属性设置为true。这么做的效果为使用GIt Bash中的命令 hexo new “文件名” ，会在source文件中新建“文件名”.md文件与同名文件夹，.md文件中，最上面已经为你写好了title等信息，这个title会显示在网页上，如果没有该信息，网页上的博客标题会显示（no title）。</p><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs subunit">title: github建站时遇到的问题<br>date: 2022<span class="hljs-string">-02</span><span class="hljs-string">-02</span> 12:28:11<br><span class="hljs-keyword">tags:</span><br>category: 记录<br></code></pre></td></tr></table></figure><p>在.md文件中添加图片时，需要将图片放在创建的同名文件夹中，若使用typora可以设置“偏好设置”为：</p><p><img src="/2022/02/02/github%E5%BB%BA%E7%AB%99%E6%97%B6%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98/1.png" alt="屏幕截图 2022-02-02 132148"></p><p>这样将图片拖进typora时图片自动被复制到了同名文件夹中。然而这样图片在typora中可以正常显示，上传到github之后图片还是显示不了，解决方法为编辑好文档后将所有图片路径前的文件名删去，例如这张图片最开始路径是这样的    （github建站时遇到的问题&#x2F;1.png），修改后为：（1.png），这样在编辑时图片时不可见的，但是上传到github后可以正常显示图片。</p><h4 id="博文加密问题"><a href="#博文加密问题" class="headerlink" title="博文加密问题"></a>博文加密问题</h4><p>在GIt Bash中下载：</p><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ada">cnpm install <span class="hljs-comment">--save hexo-blog-encrypt</span><br></code></pre></td></tr></table></figure><p>然后再需要加密的博文最前面加上 password: </p><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs subunit">title: Dia<br>date: 2022<span class="hljs-string">-02</span><span class="hljs-string">-05</span> 21:17:07<br><span class="hljs-keyword">tags:</span><br>category: Dia<br>password: ***<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>记录</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>Hello World</title>
    <link href="/2022/01/30/hello-world/"/>
    <url>/2022/01/30/hello-world/</url>
    
    <content type="html"><![CDATA[<p><img src="/2022/01/30/hello-world/OIP-C.jpg" alt="OIP-C"></p>]]></content>
    
    
    <categories>
      
      <category>hellow world</category>
      
    </categories>
    
    
  </entry>
  
  
  
  
</search>
